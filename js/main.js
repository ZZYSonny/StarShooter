(()=>{var _e=(M=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(M,{get:(h,c)=>(typeof require!="undefined"?require:h)[c]}):M)(function(M){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+M+'" is not supported')});var Ee=class{doc;page_y0;page_y1;constructor(h,c){this.doc=c,this.page_y0=new Uint32Array(c.doc_pages+1),this.page_y1=new Uint32Array(c.doc_pages+1);for(var b=1;b<=c.doc_pages;b++)this.page_y0[b]=this.page_y1[b-1]+h,this.page_y1[b]=this.page_y0[b]+c.page_height[b]}getPage(h){let[c,b]=h,A=this.page_y0.findIndex(I=>I>=b);return Math.max(1,A)}getPageRange(h){let[c,b,A,I]=h,N=this.page_y1.findIndex(V=>V>=b),X=this.page_y0.findIndex(V=>V>=I),Q=Math.max(1,N),ae=X!=-1?X-1:this.doc.doc_pages;return[Q,ae]}setContainerCSS(h){h.style.height=`${this.page_y1[this.page_y1.length-1]}px`}setPageCSS(h,c,b){h.className="PDFPageContainer",c.className="PDFPageImage",h.style.top=`${this.page_y0[b]}px`,h.style.left="0px",h.style.height=`${this.doc.page_height[b]}px`,c.style.width=`${this.doc.page_width[b]}px`,c.style.height=`${this.doc.page_height[b]}px`}};var Sr={},li=(()=>{var M=Sr.url;return function(c){c=c||{};var c=typeof c<"u"?c:{},b,A;c.ready=new Promise(function(e,r){b=e,A=r}),c.noExitRuntime=!0,c.noInitialRun=!0,c.locateFile=function(e,r){return window.location.href+"wasm/libmupdf.wasm"};var I=Object.assign({},c),N=[],X="./this.program",Q=(e,r)=>{throw r},ae=typeof window=="object",V=typeof importScripts=="function",Ae=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",z="";function Fr(e){return c.locateFile?c.locateFile(e,z):z+e}var ee,re,se,Mr;function Cr(e){if(e instanceof Le)return;Y("exiting due to exception: "+e)}var ue,ce,Re;Ae?(V?z=_e("path").dirname(z)+"/":z=__dirname+"/",Re=()=>{ce||(ue=_e("fs"),ce=_e("path"))},ee=function(r,t){return Re(),r=ce.normalize(r),ue.readFileSync(r,t?void 0:"utf8")},se=e=>{var r=ee(e,!0);return r.buffer||(r=new Uint8Array(r)),r},re=(e,r,t)=>{Re(),e=ce.normalize(e),ue.readFile(e,function(n,o){n?t(n):r(o.buffer)})},process.argv.length>1&&(X=process.argv[1].replace(/\\/g,"/")),N=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof Le))throw e}),process.on("unhandledRejection",function(e){throw e}),Q=(e,r)=>{if(ir())throw process.exitCode=e,r;Cr(r),process.exit(e)},c.inspect=function(){return"[Emscripten Module object]"}):(ae||V)&&(V?z=self.location.href:typeof document<"u"&&document.currentScript&&(z=document.currentScript.src),M&&(z=M),z.indexOf("blob:")!==0?z=z.substr(0,z.replace(/[?#].*/,"").lastIndexOf("/")+1):z="",ee=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},V&&(se=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),re=(e,r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{if(n.status==200||n.status==0&&n.response){r(n.response);return}t()},n.onerror=t,n.send(null)},Mr=e=>document.title=e);var fe=c.print||console.log.bind(console),Y=c.printErr||console.warn.bind(console);Object.assign(c,I),I=null,c.arguments&&(N=c.arguments),c.thisProgram&&(X=c.thisProgram),c.quit&&(Q=c.quit);var Ye=0,Tr=e=>{Ye=e},xr=()=>Ye,te;c.wasmBinary&&(te=c.wasmBinary);var Ir=c.noExitRuntime||!0;typeof WebAssembly!="object"&&q("no native wasm support detected");var le,Fe=!1,Me;function jr(e,r){e||q(r)}function We(e){var r=c["_"+e];return r}function Ge(e,r,t,n,o){var a={string:function(D){var R=0;if(D!=null&&D!==0){var L=(D.length<<2)+1;R=Ne(L),qe(D,R,L)}return R},array:function(D){var R=Ne(D.length);return Ke(D,R),R}};function s(D){return r==="string"?ne(D):r==="boolean"?Boolean(D):D}var u=We(e),f=[],l=0;if(n)for(var d=0;d<n.length;d++){var p=a[t[d]];p?(l===0&&(l=w()),f[d]=p(n[d])):f[d]=n[d]}var m=u.apply(null,f);function y(D){return l!==0&&g(l),s(D)}return m=y(m),m}function Ur(e,r,t,n){t=t||[];var o=t.every(function(s){return s==="number"}),a=r!=="string";return a&&o&&!n?We(e):function(){return Ge(e,r,t,arguments,n)}}var Xe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function J(e,r,t){for(var n=r+t,o=r;e[o]&&!(o>=n);)++o;if(o-r>16&&e.buffer&&Xe)return Xe.decode(e.subarray(r,o));for(var a="";r<o;){var s=e[r++];if(!(s&128)){a+=String.fromCharCode(s);continue}var u=e[r++]&63;if((s&224)==192){a+=String.fromCharCode((s&31)<<6|u);continue}var f=e[r++]&63;if((s&240)==224?s=(s&15)<<12|u<<6|f:s=(s&7)<<18|u<<12|f<<6|e[r++]&63,s<65536)a+=String.fromCharCode(s);else{var l=s-65536;a+=String.fromCharCode(55296|l>>10,56320|l&1023)}}return a}function ne(e,r){return e?J(K,e,r):""}function de(e,r,t,n){if(!(n>0))return 0;for(var o=t,a=t+n-1,s=0;s<e.length;++s){var u=e.charCodeAt(s);if(u>=55296&&u<=57343){var f=e.charCodeAt(++s);u=65536+((u&1023)<<10)|f&1023}if(u<=127){if(t>=a)break;r[t++]=u}else if(u<=2047){if(t+1>=a)break;r[t++]=192|u>>6,r[t++]=128|u&63}else if(u<=65535){if(t+2>=a)break;r[t++]=224|u>>12,r[t++]=128|u>>6&63,r[t++]=128|u&63}else{if(t+3>=a)break;r[t++]=240|u>>18,r[t++]=128|u>>12&63,r[t++]=128|u>>6&63,r[t++]=128|u&63}}return r[t]=0,t-o}function qe(e,r,t){return de(e,K,r,t)}function ve(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&(n=65536+((n&1023)<<10)|e.charCodeAt(++t)&1023),n<=127?++r:n<=2047?r+=2:n<=65535?r+=3:r+=4}return r}function $e(e){var r=ve(e)+1,t=lr(r);return t&&de(e,H,t,r),t}function Ke(e,r){H.set(e,r)}function Br(e,r,t){for(var n=0;n<e.length;++n)H[r++>>0]=e.charCodeAt(n);t||(H[r>>0]=0)}var Ce,H,K,Ze,Nr,_,Lr,Or,Je;function Qe(e){Ce=e,c.HEAP8=H=new Int8Array(e),c.HEAP16=Ze=new Int16Array(e),c.HEAP32=_=new Int32Array(e),c.HEAPU8=K=new Uint8Array(e),c.HEAPU16=Nr=new Uint16Array(e),c.HEAPU32=Lr=new Uint32Array(e),c.HEAPF32=Or=new Float32Array(e),c.HEAPF64=Je=new Float64Array(e)}var mi=c.INITIAL_MEMORY||536870912,er,rr=[],tr=[],nr=[],zr=!1;function ir(){return Ir}function Hr(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)Wr(c.preRun.shift());Ie(rr)}function Vr(){zr=!0,!c.noFSInit&&!i.init.initialized&&i.init(),i.ignorePermissions=!1,$.init(),Ie(tr)}function Yr(){if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)Xr(c.postRun.shift());Ie(nr)}function Wr(e){rr.unshift(e)}function Gr(e){tr.unshift(e)}function Xr(e){nr.unshift(e)}var Z=0,Te=null,ie=null;function hi(e){return e}function xe(e){Z++,c.monitorRunDependencies&&c.monitorRunDependencies(Z)}function me(e){if(Z--,c.monitorRunDependencies&&c.monitorRunDependencies(Z),Z==0&&(Te!==null&&(clearInterval(Te),Te=null),ie)){var r=ie;ie=null,r()}}function q(e){c.onAbort&&c.onAbort(e),e="Aborted("+e+")",Y(e),Fe=!0,Me=1,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw A(r),r}var qr="data:application/octet-stream;base64,";function or(e){return e.startsWith(qr)}function ar(e){return e.startsWith("file://")}var O;c.locateFile?(O="libmupdf.wasm",or(O)||(O=Fr(O))):O=new URL("libmupdf.wasm",Sr.url).toString();function sr(e){try{if(e==O&&te)return new Uint8Array(te);if(se)return se(e);throw"both async and sync fetching of the wasm failed"}catch(r){q(r)}}function $r(){if(!te&&(ae||V)){if(typeof fetch=="function"&&!ar(O))return fetch(O,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+O+"'";return e.arrayBuffer()}).catch(function(){return sr(O)});if(re)return new Promise(function(e,r){re(O,function(t){e(new Uint8Array(t))},r)})}return Promise.resolve().then(function(){return sr(O)})}function Kr(){var e={a:Tt};function r(s,u){var f=s.exports;c.asm=f,le=c.asm.Oa,Qe(le.buffer),er=c.asm.ab,Gr(c.asm.Pa),me("wasm-instantiate")}xe("wasm-instantiate");function t(s){r(s.instance)}function n(s){return $r().then(function(u){return WebAssembly.instantiate(u,e)}).then(function(u){return u}).then(s,function(u){Y("failed to asynchronously prepare wasm: "+u),q(u)})}function o(){return!te&&typeof WebAssembly.instantiateStreaming=="function"&&!or(O)&&!ar(O)&&typeof fetch=="function"?fetch(O,{credentials:"same-origin"}).then(function(s){var u=WebAssembly.instantiateStreaming(s,e);return u.then(t,function(f){return Y("wasm streaming compile failed: "+f),Y("falling back to ArrayBuffer instantiation"),n(t)})}):n(t)}if(c.instantiateWasm)try{var a=c.instantiateWasm(e,r);return a}catch(s){return Y("Module.instantiateWasm callback failed with error: "+s),!1}return o().catch(A),{}}var B,W,Zr={2089592:function(){throw"trylater"},2089614:function(e){throw new Error(ne(e))},2089653:function(){throw new Error("Cannot create MuPDF context!")}};function Ie(e){for(;e.length>0;){var r=e.shift();if(typeof r=="function"){r(c);continue}var t=r.func;typeof t=="number"?r.arg===void 0?k(t)():k(t)(r.arg):t(r.arg===void 0?null:r.arg)}}function k(e){return er.get(e)}function Jr(e){return _[dr()>>2]=e,e}var F={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:(e,r)=>{for(var t=0,n=e.length-1;n>=0;n--){var o=e[n];o==="."?e.splice(n,1):o===".."?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:e=>{var r=F.isAbs(e),t=e.substr(-1)==="/";return e=F.normalizeArray(e.split("/").filter(n=>!!n),!r).join("/"),!e&&!r&&(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:e=>{var r=F.splitPath(e),t=r[0],n=r[1];return!t&&!n?".":(n&&(n=n.substr(0,n.length-1)),t+n)},basename:e=>{if(e==="/")return"/";e=F.normalize(e),e=e.replace(/\/$/,"");var r=e.lastIndexOf("/");return r===-1?e:e.substr(r+1)},join:function(){var e=Array.prototype.slice.call(arguments,0);return F.normalize(e.join("/"))},join2:(e,r)=>F.normalize(e+"/"+r)};function Qr(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}else if(Ae)try{var r=_e("crypto");return function(){return r.randomBytes(1)[0]}}catch{}return function(){q("randomDevice")}}var G={resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var n=t>=0?arguments[t]:i.cwd();if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r=F.isAbs(n)}return e=F.normalizeArray(e.split("/").filter(o=>!!o),!r).join("/"),(r?"/":"")+e||"."},relative:(e,r)=>{e=G.resolve(e).substr(1),r=G.resolve(r).substr(1);function t(l){for(var d=0;d<l.length&&l[d]==="";d++);for(var p=l.length-1;p>=0&&l[p]==="";p--);return d>p?[]:l.slice(d,p-d+1)}for(var n=t(e.split("/")),o=t(r.split("/")),a=Math.min(n.length,o.length),s=a,u=0;u<a;u++)if(n[u]!==o[u]){s=u;break}for(var f=[],u=s;u<n.length;u++)f.push("..");return f=f.concat(o.slice(s)),f.join("/")}},$={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){$.ttys[e]={input:[],output:[],ops:r},i.registerDevice(e,$.stream_ops)},stream_ops:{open:function(e){var r=$.ttys[e.node.rdev];if(!r)throw new i.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.get_char)throw new i.ErrnoError(60);for(var a=0,s=0;s<n;s++){var u;try{u=e.tty.ops.get_char(e.tty)}catch{throw new i.ErrnoError(29)}if(u===void 0&&a===0)throw new i.ErrnoError(6);if(u==null)break;a++,r[t+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.put_char)throw new i.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,r[t+a])}catch{throw new i.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(Ae){var t=256,n=Buffer.alloc(t),o=0;try{o=ue.readSync(process.stdin.fd,n,0,t,-1)}catch(a){if(a.toString().includes("EOF"))o=0;else throw a}o>0?r=n.slice(0,o).toString("utf-8"):r=null}else typeof window<"u"&&typeof window.prompt=="function"?(r=window.prompt("Input: "),r!==null&&(r+=`
`)):typeof readline=="function"&&(r=readline(),r!==null&&(r+=`
`));if(!r)return null;e.input=ge(r,!0)}return e.input.shift()},put_char:function(e,r){r===null||r===10?(fe(J(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(fe(J(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){r===null||r===10?(Y(J(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(Y(J(e.output,0)),e.output=[])}}};function et(e){q()}var P={ops_table:null,mount:function(e){return P.createNode(null,"/",16895,0)},createNode:function(e,r,t,n){if(i.isBlkdev(t)||i.isFIFO(t))throw new i.ErrnoError(63);P.ops_table||(P.ops_table={dir:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr,lookup:P.node_ops.lookup,mknod:P.node_ops.mknod,rename:P.node_ops.rename,unlink:P.node_ops.unlink,rmdir:P.node_ops.rmdir,readdir:P.node_ops.readdir,symlink:P.node_ops.symlink},stream:{llseek:P.stream_ops.llseek}},file:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr},stream:{llseek:P.stream_ops.llseek,read:P.stream_ops.read,write:P.stream_ops.write,allocate:P.stream_ops.allocate,mmap:P.stream_ops.mmap,msync:P.stream_ops.msync}},link:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr,readlink:P.node_ops.readlink},stream:{}},chrdev:{node:{getattr:P.node_ops.getattr,setattr:P.node_ops.setattr},stream:i.chrdev_stream_ops}});var o=i.createNode(e,r,t,n);return i.isDir(o.mode)?(o.node_ops=P.ops_table.dir.node,o.stream_ops=P.ops_table.dir.stream,o.contents={}):i.isFile(o.mode)?(o.node_ops=P.ops_table.file.node,o.stream_ops=P.ops_table.file.stream,o.usedBytes=0,o.contents=null):i.isLink(o.mode)?(o.node_ops=P.ops_table.link.node,o.stream_ops=P.ops_table.link.stream):i.isChrdev(o.mode)&&(o.node_ops=P.ops_table.chrdev.node,o.stream_ops=P.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[r]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){var n=1024*1024;r=Math.max(r,t*(t<n?2:1.125)>>>0),t!=0&&(r=Math.max(r,256));var o=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(o.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r)if(r==0)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=i.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,i.isDir(e.mode)?r.size=4096:i.isFile(e.mode)?r.size=e.usedBytes:i.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){r.mode!==void 0&&(e.mode=r.mode),r.timestamp!==void 0&&(e.timestamp=r.timestamp),r.size!==void 0&&P.resizeFileStorage(e,r.size)},lookup:function(e,r){throw i.genericErrors[44]},mknod:function(e,r,t,n){return P.createNode(e,r,t,n)},rename:function(e,r,t){if(i.isDir(e.mode)){var n;try{n=i.lookupNode(r,t)}catch{}if(n)for(var o in n.contents)throw new i.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){var t=i.lookupNode(e,r);for(var n in t.contents)throw new i.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r=[".",".."];for(var t in e.contents)!e.contents.hasOwnProperty(t)||r.push(t);return r},symlink:function(e,r,t){var n=P.createNode(e,r,41471,0);return n.link=t,n},readlink:function(e){if(!i.isLink(e.mode))throw new i.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,t,n,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-o,n);if(s>8&&a.subarray)r.set(a.subarray(o,o+s),t);else for(var u=0;u<s;u++)r[t+u]=a[o+u];return s},write:function(e,r,t,n,o,a){if(r.buffer===H.buffer&&(a=!1),!n)return 0;var s=e.node;if(s.timestamp=Date.now(),r.subarray&&(!s.contents||s.contents.subarray)){if(a)return s.contents=r.subarray(t,t+n),s.usedBytes=n,n;if(s.usedBytes===0&&o===0)return s.contents=r.slice(t,t+n),s.usedBytes=n,n;if(o+n<=s.usedBytes)return s.contents.set(r.subarray(t,t+n),o),n}if(P.expandFileStorage(s,o+n),s.contents.subarray&&r.subarray)s.contents.set(r.subarray(t,t+n),o);else for(var u=0;u<n;u++)s.contents[o+u]=r[t+u];return s.usedBytes=Math.max(s.usedBytes,o+n),n},llseek:function(e,r,t){var n=r;if(t===1?n+=e.position:t===2&&i.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new i.ErrnoError(28);return n},allocate:function(e,r,t){P.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,n,o,a){if(r!==0)throw new i.ErrnoError(28);if(!i.isFile(e.node.mode))throw new i.ErrnoError(43);var s,u,f=e.node.contents;if(!(a&2)&&f.buffer===Ce)u=!1,s=f.byteOffset;else{if((n>0||n+t<f.length)&&(f.subarray?f=f.subarray(n,n+t):f=Array.prototype.slice.call(f,n,n+t)),u=!0,s=et(t),!s)throw new i.ErrnoError(48);H.set(f,s)}return{ptr:s,allocated:u}},msync:function(e,r,t,n,o){if(!i.isFile(e.node.mode))throw new i.ErrnoError(43);if(o&2)return 0;var a=P.stream_ops.write(e,r,0,n,t,!1);return 0}}};function rt(e,r,t,n){var o=n?"":"al "+e;re(e,function(a){jr(a,'Loading data file "'+e+'" failed (no arrayBuffer).'),r(new Uint8Array(a)),o&&me(o)},function(a){if(t)t();else throw'Loading data file "'+e+'" failed.'}),o&&xe(o)}var i={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(e,r={})=>{if(e=G.resolve(i.cwd(),e),!e)return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};if(r=Object.assign(t,r),r.recurse_count>8)throw new i.ErrnoError(32);for(var n=F.normalizeArray(e.split("/").filter(p=>!!p),!1),o=i.root,a="/",s=0;s<n.length;s++){var u=s===n.length-1;if(u&&r.parent)break;if(o=i.lookupNode(o,n[s]),a=F.join2(a,n[s]),i.isMountpoint(o)&&(!u||u&&r.follow_mount)&&(o=o.mounted.root),!u||r.follow)for(var f=0;i.isLink(o.mode);){var l=i.readlink(a);a=G.resolve(F.dirname(a),l);var d=i.lookupPath(a,{recurse_count:r.recurse_count+1});if(o=d.node,f++>40)throw new i.ErrnoError(32)}}return{path:a,node:o}},getPath:e=>{for(var r;;){if(i.isRoot(e)){var t=e.mount.mountpoint;return r?t[t.length-1]!=="/"?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:(e,r)=>{for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%i.nameTable.length},hashAddNode:e=>{var r=i.hashName(e.parent.id,e.name);e.name_next=i.nameTable[r],i.nameTable[r]=e},hashRemoveNode:e=>{var r=i.hashName(e.parent.id,e.name);if(i.nameTable[r]===e)i.nameTable[r]=e.name_next;else for(var t=i.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:(e,r)=>{var t=i.mayLookup(e);if(t)throw new i.ErrnoError(t,e);for(var n=i.hashName(e.id,r),o=i.nameTable[n];o;o=o.name_next){var a=o.name;if(o.parent.id===e.id&&a===r)return o}return i.lookup(e,r)},createNode:(e,r,t,n)=>{var o=new i.FSNode(e,r,t,n);return i.hashAddNode(o),o},destroyNode:e=>{i.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>(e&61440)===32768,isDir:e=>(e&61440)===16384,isLink:e=>(e&61440)===40960,isChrdev:e=>(e&61440)===8192,isBlkdev:e=>(e&61440)===24576,isFIFO:e=>(e&61440)===4096,isSocket:e=>(e&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:e=>{var r=i.flagModes[e];if(typeof r>"u")throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:e=>{var r=["r","w","rw"][e&3];return e&512&&(r+="w"),r},nodePermissions:(e,r)=>i.ignorePermissions?0:r.includes("r")&&!(e.mode&292)||r.includes("w")&&!(e.mode&146)||r.includes("x")&&!(e.mode&73)?2:0,mayLookup:e=>{var r=i.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:(e,r)=>{try{var t=i.lookupNode(e,r);return 20}catch{}return i.nodePermissions(e,"wx")},mayDelete:(e,r,t)=>{var n;try{n=i.lookupNode(e,r)}catch(a){return a.errno}var o=i.nodePermissions(e,"wx");if(o)return o;if(t){if(!i.isDir(n.mode))return 54;if(i.isRoot(n)||i.getPath(n)===i.cwd())return 10}else if(i.isDir(n.mode))return 31;return 0},mayOpen:(e,r)=>e?i.isLink(e.mode)?32:i.isDir(e.mode)&&(i.flagsToPermissionString(r)!=="r"||r&512)?31:i.nodePermissions(e,i.flagsToPermissionString(r)):44,MAX_OPEN_FDS:4096,nextfd:(e=0,r=i.MAX_OPEN_FDS)=>{for(var t=e;t<=r;t++)if(!i.streams[t])return t;throw new i.ErrnoError(33)},getStream:e=>i.streams[e],createStream:(e,r,t)=>{i.FSStream||(i.FSStream=function(){this.shared={}},i.FSStream.prototype={object:{get:function(){return this.node},set:function(o){this.node=o}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(o){this.shared.flags=o}},position:{get function(){return this.shared.position},set:function(o){this.shared.position=o}}}),e=Object.assign(new i.FSStream,e);var n=i.nextfd(r,t);return e.fd=n,i.streams[n]=e,e},closeStream:e=>{i.streams[e]=null},chrdev_stream_ops:{open:e=>{var r=i.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:()=>{throw new i.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,r)=>e<<8|r,registerDevice:(e,r)=>{i.devices[e]={stream_ops:r}},getDevice:e=>i.devices[e],getMounts:e=>{for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs:(e,r)=>{typeof e=="function"&&(r=e,e=!1),i.syncFSRequests++,i.syncFSRequests>1&&Y("warning: "+i.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var t=i.getMounts(i.root.mount),n=0;function o(s){return i.syncFSRequests--,r(s)}function a(s){if(s)return a.errored?void 0:(a.errored=!0,o(s));++n>=t.length&&o(null)}t.forEach(s=>{if(!s.type.syncfs)return a(null);s.type.syncfs(s,e,a)})},mount:(e,r,t)=>{var n=t==="/",o=!t,a;if(n&&i.root)throw new i.ErrnoError(10);if(!n&&!o){var s=i.lookupPath(t,{follow_mount:!1});if(t=s.path,a=s.node,i.isMountpoint(a))throw new i.ErrnoError(10);if(!i.isDir(a.mode))throw new i.ErrnoError(54)}var u={type:e,opts:r,mountpoint:t,mounts:[]},f=e.mount(u);return f.mount=u,u.root=f,n?i.root=f:a&&(a.mounted=u,a.mount&&a.mount.mounts.push(u)),f},unmount:e=>{var r=i.lookupPath(e,{follow_mount:!1});if(!i.isMountpoint(r.node))throw new i.ErrnoError(28);var t=r.node,n=t.mounted,o=i.getMounts(n);Object.keys(i.nameTable).forEach(s=>{for(var u=i.nameTable[s];u;){var f=u.name_next;o.includes(u.mount)&&i.destroyNode(u),u=f}}),t.mounted=null;var a=t.mount.mounts.indexOf(n);t.mount.mounts.splice(a,1)},lookup:(e,r)=>e.node_ops.lookup(e,r),mknod:(e,r,t)=>{var n=i.lookupPath(e,{parent:!0}),o=n.node,a=F.basename(e);if(!a||a==="."||a==="..")throw new i.ErrnoError(28);var s=i.mayCreate(o,a);if(s)throw new i.ErrnoError(s);if(!o.node_ops.mknod)throw new i.ErrnoError(63);return o.node_ops.mknod(o,a,r,t)},create:(e,r)=>(r=r!==void 0?r:438,r&=4095,r|=32768,i.mknod(e,r,0)),mkdir:(e,r)=>(r=r!==void 0?r:511,r&=1023,r|=16384,i.mknod(e,r,0)),mkdirTree:(e,r)=>{for(var t=e.split("/"),n="",o=0;o<t.length;++o)if(!!t[o]){n+="/"+t[o];try{i.mkdir(n,r)}catch(a){if(a.errno!=20)throw a}}},mkdev:(e,r,t)=>(typeof t>"u"&&(t=r,r=438),r|=8192,i.mknod(e,r,t)),symlink:(e,r)=>{if(!G.resolve(e))throw new i.ErrnoError(44);var t=i.lookupPath(r,{parent:!0}),n=t.node;if(!n)throw new i.ErrnoError(44);var o=F.basename(r),a=i.mayCreate(n,o);if(a)throw new i.ErrnoError(a);if(!n.node_ops.symlink)throw new i.ErrnoError(63);return n.node_ops.symlink(n,o,e)},rename:(e,r)=>{var t=F.dirname(e),n=F.dirname(r),o=F.basename(e),a=F.basename(r),s,u,f;if(s=i.lookupPath(e,{parent:!0}),u=s.node,s=i.lookupPath(r,{parent:!0}),f=s.node,!u||!f)throw new i.ErrnoError(44);if(u.mount!==f.mount)throw new i.ErrnoError(75);var l=i.lookupNode(u,o),d=G.relative(e,n);if(d.charAt(0)!==".")throw new i.ErrnoError(28);if(d=G.relative(r,t),d.charAt(0)!==".")throw new i.ErrnoError(55);var p;try{p=i.lookupNode(f,a)}catch{}if(l!==p){var m=i.isDir(l.mode),y=i.mayDelete(u,o,m);if(y)throw new i.ErrnoError(y);if(y=p?i.mayDelete(f,a,m):i.mayCreate(f,a),y)throw new i.ErrnoError(y);if(!u.node_ops.rename)throw new i.ErrnoError(63);if(i.isMountpoint(l)||p&&i.isMountpoint(p))throw new i.ErrnoError(10);if(f!==u&&(y=i.nodePermissions(u,"w"),y))throw new i.ErrnoError(y);i.hashRemoveNode(l);try{u.node_ops.rename(l,f,a)}catch(D){throw D}finally{i.hashAddNode(l)}}},rmdir:e=>{var r=i.lookupPath(e,{parent:!0}),t=r.node,n=F.basename(e),o=i.lookupNode(t,n),a=i.mayDelete(t,n,!0);if(a)throw new i.ErrnoError(a);if(!t.node_ops.rmdir)throw new i.ErrnoError(63);if(i.isMountpoint(o))throw new i.ErrnoError(10);t.node_ops.rmdir(t,n),i.destroyNode(o)},readdir:e=>{var r=i.lookupPath(e,{follow:!0}),t=r.node;if(!t.node_ops.readdir)throw new i.ErrnoError(54);return t.node_ops.readdir(t)},unlink:e=>{var r=i.lookupPath(e,{parent:!0}),t=r.node;if(!t)throw new i.ErrnoError(44);var n=F.basename(e),o=i.lookupNode(t,n),a=i.mayDelete(t,n,!1);if(a)throw new i.ErrnoError(a);if(!t.node_ops.unlink)throw new i.ErrnoError(63);if(i.isMountpoint(o))throw new i.ErrnoError(10);t.node_ops.unlink(t,n),i.destroyNode(o)},readlink:e=>{var r=i.lookupPath(e),t=r.node;if(!t)throw new i.ErrnoError(44);if(!t.node_ops.readlink)throw new i.ErrnoError(28);return G.resolve(i.getPath(t.parent),t.node_ops.readlink(t))},stat:(e,r)=>{var t=i.lookupPath(e,{follow:!r}),n=t.node;if(!n)throw new i.ErrnoError(44);if(!n.node_ops.getattr)throw new i.ErrnoError(63);return n.node_ops.getattr(n)},lstat:e=>i.stat(e,!0),chmod:(e,r,t)=>{var n;if(typeof e=="string"){var o=i.lookupPath(e,{follow:!t});n=o.node}else n=e;if(!n.node_ops.setattr)throw new i.ErrnoError(63);n.node_ops.setattr(n,{mode:r&4095|n.mode&-4096,timestamp:Date.now()})},lchmod:(e,r)=>{i.chmod(e,r,!0)},fchmod:(e,r)=>{var t=i.getStream(e);if(!t)throw new i.ErrnoError(8);i.chmod(t.node,r)},chown:(e,r,t,n)=>{var o;if(typeof e=="string"){var a=i.lookupPath(e,{follow:!n});o=a.node}else o=e;if(!o.node_ops.setattr)throw new i.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:(e,r,t)=>{i.chown(e,r,t,!0)},fchown:(e,r,t)=>{var n=i.getStream(e);if(!n)throw new i.ErrnoError(8);i.chown(n.node,r,t)},truncate:(e,r)=>{if(r<0)throw new i.ErrnoError(28);var t;if(typeof e=="string"){var n=i.lookupPath(e,{follow:!0});t=n.node}else t=e;if(!t.node_ops.setattr)throw new i.ErrnoError(63);if(i.isDir(t.mode))throw new i.ErrnoError(31);if(!i.isFile(t.mode))throw new i.ErrnoError(28);var o=i.nodePermissions(t,"w");if(o)throw new i.ErrnoError(o);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:(e,r)=>{var t=i.getStream(e);if(!t)throw new i.ErrnoError(8);if((t.flags&2097155)===0)throw new i.ErrnoError(28);i.truncate(t.node,r)},utime:(e,r,t)=>{var n=i.lookupPath(e,{follow:!0}),o=n.node;o.node_ops.setattr(o,{timestamp:Math.max(r,t)})},open:(e,r,t,n,o)=>{if(e==="")throw new i.ErrnoError(44);r=typeof r=="string"?i.modeStringToFlags(r):r,t=typeof t>"u"?438:t,r&64?t=t&4095|32768:t=0;var a;if(typeof e=="object")a=e;else{e=F.normalize(e);try{var s=i.lookupPath(e,{follow:!(r&131072)});a=s.node}catch{}}var u=!1;if(r&64)if(a){if(r&128)throw new i.ErrnoError(20)}else a=i.mknod(e,t,0),u=!0;if(!a)throw new i.ErrnoError(44);if(i.isChrdev(a.mode)&&(r&=-513),r&65536&&!i.isDir(a.mode))throw new i.ErrnoError(54);if(!u){var f=i.mayOpen(a,r);if(f)throw new i.ErrnoError(f)}r&512&&i.truncate(a,0),r&=-131713;var l=i.createStream({node:a,path:i.getPath(a),flags:r,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},n,o);return l.stream_ops.open&&l.stream_ops.open(l),c.logReadFiles&&!(r&1)&&(i.readFiles||(i.readFiles={}),e in i.readFiles||(i.readFiles[e]=1)),l},close:e=>{if(i.isClosed(e))throw new i.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{i.closeStream(e.fd)}e.fd=null},isClosed:e=>e.fd===null,llseek:(e,r,t)=>{if(i.isClosed(e))throw new i.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new i.ErrnoError(70);if(t!=0&&t!=1&&t!=2)throw new i.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:(e,r,t,n,o)=>{if(n<0||o<0)throw new i.ErrnoError(28);if(i.isClosed(e))throw new i.ErrnoError(8);if((e.flags&2097155)===1)throw new i.ErrnoError(8);if(i.isDir(e.node.mode))throw new i.ErrnoError(31);if(!e.stream_ops.read)throw new i.ErrnoError(28);var a=typeof o<"u";if(!a)o=e.position;else if(!e.seekable)throw new i.ErrnoError(70);var s=e.stream_ops.read(e,r,t,n,o);return a||(e.position+=s),s},write:(e,r,t,n,o,a)=>{if(n<0||o<0)throw new i.ErrnoError(28);if(i.isClosed(e))throw new i.ErrnoError(8);if((e.flags&2097155)===0)throw new i.ErrnoError(8);if(i.isDir(e.node.mode))throw new i.ErrnoError(31);if(!e.stream_ops.write)throw new i.ErrnoError(28);e.seekable&&e.flags&1024&&i.llseek(e,0,2);var s=typeof o<"u";if(!s)o=e.position;else if(!e.seekable)throw new i.ErrnoError(70);var u=e.stream_ops.write(e,r,t,n,o,a);return s||(e.position+=u),u},allocate:(e,r,t)=>{if(i.isClosed(e))throw new i.ErrnoError(8);if(r<0||t<=0)throw new i.ErrnoError(28);if((e.flags&2097155)===0)throw new i.ErrnoError(8);if(!i.isFile(e.node.mode)&&!i.isDir(e.node.mode))throw new i.ErrnoError(43);if(!e.stream_ops.allocate)throw new i.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap:(e,r,t,n,o,a)=>{if((o&2)!==0&&(a&2)===0&&(e.flags&2097155)!==2)throw new i.ErrnoError(2);if((e.flags&2097155)===1)throw new i.ErrnoError(2);if(!e.stream_ops.mmap)throw new i.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,o,a)},msync:(e,r,t,n,o)=>!e||!e.stream_ops.msync?0:e.stream_ops.msync(e,r,t,n,o),munmap:e=>0,ioctl:(e,r,t)=>{if(!e.stream_ops.ioctl)throw new i.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile:(e,r={})=>{if(r.flags=r.flags||0,r.encoding=r.encoding||"binary",r.encoding!=="utf8"&&r.encoding!=="binary")throw new Error('Invalid encoding type "'+r.encoding+'"');var t,n=i.open(e,r.flags),o=i.stat(e),a=o.size,s=new Uint8Array(a);return i.read(n,s,0,a,0),r.encoding==="utf8"?t=J(s,0):r.encoding==="binary"&&(t=s),i.close(n),t},writeFile:(e,r,t={})=>{t.flags=t.flags||577;var n=i.open(e,t.flags,t.mode);if(typeof r=="string"){var o=new Uint8Array(ve(r)+1),a=de(r,o,0,o.length);i.write(n,o,0,a,void 0,t.canOwn)}else if(ArrayBuffer.isView(r))i.write(n,r,0,r.byteLength,void 0,t.canOwn);else throw new Error("Unsupported data type");i.close(n)},cwd:()=>i.currentPath,chdir:e=>{var r=i.lookupPath(e,{follow:!0});if(r.node===null)throw new i.ErrnoError(44);if(!i.isDir(r.node.mode))throw new i.ErrnoError(54);var t=i.nodePermissions(r.node,"x");if(t)throw new i.ErrnoError(t);i.currentPath=r.path},createDefaultDirectories:()=>{i.mkdir("/tmp"),i.mkdir("/home"),i.mkdir("/home/web_user")},createDefaultDevices:()=>{i.mkdir("/dev"),i.registerDevice(i.makedev(1,3),{read:()=>0,write:(r,t,n,o,a)=>o}),i.mkdev("/dev/null",i.makedev(1,3)),$.register(i.makedev(5,0),$.default_tty_ops),$.register(i.makedev(6,0),$.default_tty1_ops),i.mkdev("/dev/tty",i.makedev(5,0)),i.mkdev("/dev/tty1",i.makedev(6,0));var e=Qr();i.createDevice("/dev","random",e),i.createDevice("/dev","urandom",e),i.mkdir("/dev/shm"),i.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{i.mkdir("/proc");var e=i.mkdir("/proc/self");i.mkdir("/proc/self/fd"),i.mount({mount:()=>{var r=i.createNode(e,"fd",16895,73);return r.node_ops={lookup:(t,n)=>{var o=+n,a=i.getStream(o);if(!a)throw new i.ErrnoError(8);var s={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>a.path}};return s.parent=s,s}},r}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?i.createDevice("/dev","stdin",c.stdin):i.symlink("/dev/tty","/dev/stdin"),c.stdout?i.createDevice("/dev","stdout",null,c.stdout):i.symlink("/dev/tty","/dev/stdout"),c.stderr?i.createDevice("/dev","stderr",null,c.stderr):i.symlink("/dev/tty1","/dev/stderr");var e=i.open("/dev/stdin",0),r=i.open("/dev/stdout",1),t=i.open("/dev/stderr",1)},ensureErrnoError:()=>{i.ErrnoError||(i.ErrnoError=function(r,t){this.node=t,this.setErrno=function(n){this.errno=n},this.setErrno(r),this.message="FS error"},i.ErrnoError.prototype=new Error,i.ErrnoError.prototype.constructor=i.ErrnoError,[44].forEach(e=>{i.genericErrors[e]=new i.ErrnoError(e),i.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:()=>{i.ensureErrnoError(),i.nameTable=new Array(4096),i.mount(P,{},"/"),i.createDefaultDirectories(),i.createDefaultDevices(),i.createSpecialDirectories(),i.filesystems={MEMFS:P}},init:(e,r,t)=>{i.init.initialized=!0,i.ensureErrnoError(),c.stdin=e||c.stdin,c.stdout=r||c.stdout,c.stderr=t||c.stderr,i.createStandardStreams()},quit:()=>{i.init.initialized=!1;for(var e=0;e<i.streams.length;e++){var r=i.streams[e];!r||i.close(r)}},getMode:(e,r)=>{var t=0;return e&&(t|=365),r&&(t|=146),t},findObject:(e,r)=>{var t=i.analyzePath(e,r);return t.exists?t.object:null},analyzePath:(e,r)=>{try{var t=i.lookupPath(e,{follow:!r});e=t.path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=i.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=F.basename(e),t=i.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot=t.path==="/"}catch(o){n.error=o.errno}return n},createPath:(e,r,t,n)=>{e=typeof e=="string"?e:i.getPath(e);for(var o=r.split("/").reverse();o.length;){var a=o.pop();if(!!a){var s=F.join2(e,a);try{i.mkdir(s)}catch{}e=s}}return s},createFile:(e,r,t,n,o)=>{var a=F.join2(typeof e=="string"?e:i.getPath(e),r),s=i.getMode(n,o);return i.create(a,s)},createDataFile:(e,r,t,n,o,a)=>{var s=r;e&&(e=typeof e=="string"?e:i.getPath(e),s=r?F.join2(e,r):e);var u=i.getMode(n,o),f=i.create(s,u);if(t){if(typeof t=="string"){for(var l=new Array(t.length),d=0,p=t.length;d<p;++d)l[d]=t.charCodeAt(d);t=l}i.chmod(f,u|146);var m=i.open(f,577);i.write(m,t,0,t.length,0,a),i.close(m),i.chmod(f,u)}return f},createDevice:(e,r,t,n)=>{var o=F.join2(typeof e=="string"?e:i.getPath(e),r),a=i.getMode(!!t,!!n);i.createDevice.major||(i.createDevice.major=64);var s=i.makedev(i.createDevice.major++,0);return i.registerDevice(s,{open:u=>{u.seekable=!1},close:u=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(u,f,l,d,p)=>{for(var m=0,y=0;y<d;y++){var D;try{D=t()}catch{throw new i.ErrnoError(29)}if(D===void 0&&m===0)throw new i.ErrnoError(6);if(D==null)break;m++,f[l+y]=D}return m&&(u.node.timestamp=Date.now()),m},write:(u,f,l,d,p)=>{for(var m=0;m<d;m++)try{n(f[l+m])}catch{throw new i.ErrnoError(29)}return d&&(u.node.timestamp=Date.now()),m}}),i.mkdev(o,a,s)},forceLoadFile:e=>{if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(ee)try{e.contents=ge(ee(e.url),!0),e.usedBytes=e.contents.length}catch{throw new i.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(e,r,t,n,o)=>{function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(m){if(!(m>this.length-1||m<0)){var y=m%this.chunkSize,D=m/this.chunkSize|0;return this.getter(D)[y]}},a.prototype.setDataGetter=function(m){this.getter=m},a.prototype.cacheLength=function(){var m=new XMLHttpRequest;if(m.open("HEAD",t,!1),m.send(null),!(m.status>=200&&m.status<300||m.status===304))throw new Error("Couldn't load "+t+". Status: "+m.status);var y=Number(m.getResponseHeader("Content-length")),D,R=(D=m.getResponseHeader("Accept-Ranges"))&&D==="bytes",L=(D=m.getResponseHeader("Content-Encoding"))&&D==="gzip",U=1024*1024;R||(U=y);var v=(T,x)=>{if(T>x)throw new Error("invalid range ("+T+", "+x+") or no bytes requested!");if(x>y-1)throw new Error("only "+y+" bytes available! programmer error!");var j=new XMLHttpRequest;if(j.open("GET",t,!1),y!==U&&j.setRequestHeader("Range","bytes="+T+"-"+x),j.responseType="arraybuffer",j.overrideMimeType&&j.overrideMimeType("text/plain; charset=x-user-defined"),j.send(null),!(j.status>=200&&j.status<300||j.status===304))throw new Error("Couldn't load "+t+". Status: "+j.status);return j.response!==void 0?new Uint8Array(j.response||[]):ge(j.responseText||"",!0)},S=this;S.setDataGetter(T=>{var x=T*U,j=(T+1)*U-1;if(j=Math.min(j,y-1),typeof S.chunks[T]>"u"&&(S.chunks[T]=v(x,j)),typeof S.chunks[T]>"u")throw new Error("doXHR failed!");return S.chunks[T]}),(L||!y)&&(U=y=1,y=this.getter(0).length,U=y,fe("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=y,this._chunkSize=U,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!V)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new a;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var u={isDevice:!1,contents:s}}else var u={isDevice:!1,url:t};var f=i.createFile(e,r,u,n,o);u.contents?f.contents=u.contents:u.url&&(f.contents=null,f.url=u.url),Object.defineProperties(f,{usedBytes:{get:function(){return this.contents.length}}});var l={},d=Object.keys(f.stream_ops);return d.forEach(p=>{var m=f.stream_ops[p];l[p]=function(){return i.forceLoadFile(f),m.apply(null,arguments)}}),l.read=(p,m,y,D,R)=>{i.forceLoadFile(f);var L=p.node.contents;if(R>=L.length)return 0;var U=Math.min(L.length-R,D);if(L.slice)for(var v=0;v<U;v++)m[y+v]=L[R+v];else for(var v=0;v<U;v++)m[y+v]=L.get(R+v);return U},f.stream_ops=l,f},createPreloadedFile:(e,r,t,n,o,a,s,u,f,l)=>{var d=r?G.resolve(F.join2(e,r)):e,p="cp "+d;function m(y){function D(R){l&&l(),u||i.createDataFile(e,r,R,n,o,f),a&&a(),me(p)}Browser.handledByPreloadPlugin(y,d,D,()=>{s&&s(),me(p)})||D(y)}xe(p),typeof t=="string"?rt(t,y=>m(y),s):m(t)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(e,r,t)=>{r=r||(()=>{}),t=t||(()=>{});var n=i.indexedDB();try{var o=n.open(i.DB_NAME(),i.DB_VERSION)}catch(a){return t(a)}o.onupgradeneeded=()=>{fe("creating db");var a=o.result;a.createObjectStore(i.DB_STORE_NAME)},o.onsuccess=()=>{var a=o.result,s=a.transaction([i.DB_STORE_NAME],"readwrite"),u=s.objectStore(i.DB_STORE_NAME),f=0,l=0,d=e.length;function p(){l==0?r():t()}e.forEach(m=>{var y=u.put(i.analyzePath(m).object.contents,m);y.onsuccess=()=>{f++,f+l==d&&p()},y.onerror=()=>{l++,f+l==d&&p()}}),s.onerror=t},o.onerror=t},loadFilesFromDB:(e,r,t)=>{r=r||(()=>{}),t=t||(()=>{});var n=i.indexedDB();try{var o=n.open(i.DB_NAME(),i.DB_VERSION)}catch(a){return t(a)}o.onupgradeneeded=t,o.onsuccess=()=>{var a=o.result;try{var s=a.transaction([i.DB_STORE_NAME],"readonly")}catch(m){t(m);return}var u=s.objectStore(i.DB_STORE_NAME),f=0,l=0,d=e.length;function p(){l==0?r():t()}e.forEach(m=>{var y=u.get(m);y.onsuccess=()=>{i.analyzePath(m).exists&&i.unlink(m),i.createDataFile(F.dirname(m),F.basename(m),y.result,!0,!0,!0),f++,f+l==d&&p()},y.onerror=()=>{l++,f+l==d&&p()}}),s.onerror=t},o.onerror=t}},C={DEFAULT_POLLMASK:5,calculateAt:function(e,r,t){if(F.isAbs(r))return r;var n;if(e===-100)n=i.cwd();else{var o=i.getStream(e);if(!o)throw new i.ErrnoError(8);n=o.path}if(r.length==0){if(!t)throw new i.ErrnoError(44);return n}return F.join2(n,r)},doStat:function(e,r,t){try{var n=e(r)}catch(o){if(o&&o.node&&F.normalize(r)!==F.normalize(i.getPath(o.node)))return-54;throw o}return _[t>>2]=n.dev,_[t+4>>2]=0,_[t+8>>2]=n.ino,_[t+12>>2]=n.mode,_[t+16>>2]=n.nlink,_[t+20>>2]=n.uid,_[t+24>>2]=n.gid,_[t+28>>2]=n.rdev,_[t+32>>2]=0,W=[n.size>>>0,(B=n.size,+Math.abs(B)>=1?B>0?(Math.min(+Math.floor(B/4294967296),4294967295)|0)>>>0:~~+Math.ceil((B-+(~~B>>>0))/4294967296)>>>0:0)],_[t+40>>2]=W[0],_[t+44>>2]=W[1],_[t+48>>2]=4096,_[t+52>>2]=n.blocks,_[t+56>>2]=n.atime.getTime()/1e3|0,_[t+60>>2]=0,_[t+64>>2]=n.mtime.getTime()/1e3|0,_[t+68>>2]=0,_[t+72>>2]=n.ctime.getTime()/1e3|0,_[t+76>>2]=0,W=[n.ino>>>0,(B=n.ino,+Math.abs(B)>=1?B>0?(Math.min(+Math.floor(B/4294967296),4294967295)|0)>>>0:~~+Math.ceil((B-+(~~B>>>0))/4294967296)>>>0:0)],_[t+80>>2]=W[0],_[t+84>>2]=W[1],0},doMsync:function(e,r,t,n,o){var a=K.slice(e,e+t);i.msync(r,a,o,t,n)},doMknod:function(e,r,t){switch(r&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return i.mknod(e,r,t),0},doReadlink:function(e,r,t){if(t<=0)return-28;var n=i.readlink(e),o=Math.min(t,ve(n)),a=H[r+o];return qe(n,r,t+1),H[r+o]=a,o},doAccess:function(e,r){if(r&-8)return-28;var t=i.lookupPath(e,{follow:!0}),n=t.node;if(!n)return-44;var o="";return r&4&&(o+="r"),r&2&&(o+="w"),r&1&&(o+="x"),o&&i.nodePermissions(n,o)?-2:0},doReadv:function(e,r,t,n){for(var o=0,a=0;a<t;a++){var s=_[r>>2],u=_[r+4>>2];r+=8;var f=i.read(e,H,s,u,n);if(f<0)return-1;if(o+=f,f<u)break}return o},doWritev:function(e,r,t,n){for(var o=0,a=0;a<t;a++){var s=_[r>>2],u=_[r+4>>2];r+=8;var f=i.write(e,H,s,u,n);if(f<0)return-1;o+=f}return o},varargs:void 0,get:function(){C.varargs+=4;var e=_[C.varargs-4>>2];return e},getStr:function(e){var r=ne(e);return r},getStreamFromFD:function(e){var r=i.getStream(e);if(!r)throw new i.ErrnoError(8);return r}};function tt(e,r,t){C.varargs=t;try{var n=C.getStreamFromFD(e);switch(r){case 0:{var o=C.get();if(o<0)return-28;var a;return a=i.createStream(n,o),a.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var o=C.get();return n.flags|=o,0}case 5:{var o=C.get(),s=0;return Ze[o+s>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Jr(28),-1;default:return-28}}catch(u){if(typeof i>"u"||!(u instanceof i.ErrnoError))throw u;return-u.errno}}function nt(e,r,t){C.varargs=t;try{var n=C.getStreamFromFD(e);switch(r){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:{if(!n.tty)return-59;var o=C.get();return _[o>>2]=0,0}case 21520:return n.tty?-28:-59;case 21531:{var o=C.get();return i.ioctl(n,r,o)}case 21523:return n.tty?0:-59;case 21524:return n.tty?0:-59;default:q("bad ioctl syscall "+r)}}catch(a){if(typeof i>"u"||!(a instanceof i.ErrnoError))throw a;return-a.errno}}function it(e,r,t,n){C.varargs=n;try{r=C.getStr(r),r=C.calculateAt(e,r);var o=n?C.get():0;return i.open(r,t,o).fd}catch(a){if(typeof i>"u"||!(a instanceof i.ErrnoError))throw a;return-a.errno}}function ot(e){try{return e=C.getStr(e),i.rmdir(e),0}catch(r){if(typeof i>"u"||!(r instanceof i.ErrnoError))throw r;return-r.errno}}function at(e,r){try{return e=C.getStr(e),C.doStat(i.stat,e,r)}catch(t){if(typeof i>"u"||!(t instanceof i.ErrnoError))throw t;return-t.errno}}function st(e,r,t){try{return r=C.getStr(r),r=C.calculateAt(e,r),t===0?i.unlink(r):t===512?i.rmdir(r):q("Invalid flags passed to unlinkat"),0}catch(n){if(typeof i>"u"||!(n instanceof i.ErrnoError))throw n;return-n.errno}}function ut(){return Date.now()}function ct(){throw 1/0}function ft(e,r){var t=new Date(_[e>>2]*1e3);_[r>>2]=t.getUTCSeconds(),_[r+4>>2]=t.getUTCMinutes(),_[r+8>>2]=t.getUTCHours(),_[r+12>>2]=t.getUTCDate(),_[r+16>>2]=t.getUTCMonth(),_[r+20>>2]=t.getUTCFullYear()-1900,_[r+24>>2]=t.getUTCDay();var n=Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0),o=(t.getTime()-n)/(1e3*60*60*24)|0;_[r+28>>2]=o}function lt(e){var r=Date.UTC(_[e+20>>2]+1900,_[e+16>>2],_[e+12>>2],_[e+8>>2],_[e+4>>2],_[e>>2],0),t=new Date(r);_[e+24>>2]=t.getUTCDay();var n=Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0),o=(t.getTime()-n)/(1e3*60*60*24)|0;return _[e+28>>2]=o,t.getTime()/1e3|0}function dt(e,r,t){var n=new Date().getFullYear(),o=new Date(n,0,1),a=new Date(n,6,1),s=o.getTimezoneOffset(),u=a.getTimezoneOffset(),f=Math.max(s,u);_[e>>2]=f*60,_[r>>2]=Number(s!=u);function l(D){var R=D.toTimeString().match(/\(([A-Za-z ]+)\)$/);return R?R[1]:"GMT"}var d=l(o),p=l(a),m=$e(d),y=$e(p);u<s?(_[t>>2]=m,_[t+4>>2]=y):(_[t>>2]=y,_[t+4>>2]=m)}function je(e,r,t){je.called||(je.called=!0,dt(e,r,t))}var Ue=[];function vt(e,r){Ue.length=0;var t;for(r>>=2;t=K[e++];){var n=t<105;n&&r&1&&r++,Ue.push(n?Je[r++>>1]:_[r]),++r}return Ue}function mt(e,r,t){var n=vt(r,t);return Zr[e].apply(null,n)}function ht(e,r,t){K.copyWithin(e,r,r+t)}function pt(){return 2147483648}function wt(e){try{return le.grow(e-Ce.byteLength+65535>>>16),Qe(le.buffer),1}catch{}}function gt(e){var r=K.length;e=e>>>0;var t=pt();if(e>t)return!1;let n=(f,l)=>f+(l-f%l)%l;for(var o=1;o<=4;o*=2){var a=r*(1+.2/o);a=Math.min(a,e+100663296);var s=Math.min(t,n(Math.max(e,a),65536)),u=wt(s);if(u)return!0}return!1}var Be={};function yt(){return X||"./this.program"}function oe(){if(!oe.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:yt()};for(var t in Be)Be[t]===void 0?delete r[t]:r[t]=Be[t];var n=[];for(var t in r)n.push(t+"="+r[t]);oe.strings=n}return oe.strings}function _t(e,r){var t=0;return oe().forEach(function(n,o){var a=r+t;_[e+o*4>>2]=a,Br(n,a),t+=n.length+1}),0}function Et(e,r){var t=oe();_[e>>2]=t.length;var n=0;return t.forEach(function(o){n+=o.length+1}),_[r>>2]=n,0}function kt(e){ui(e)}function bt(e){try{var r=C.getStreamFromFD(e);return i.close(r),0}catch(t){if(typeof i>"u"||!(t instanceof i.ErrnoError))throw t;return t.errno}}function Dt(e,r,t,n){try{var o=C.getStreamFromFD(e),a=C.doReadv(o,r,t);return _[n>>2]=a,0}catch(s){if(typeof i>"u"||!(s instanceof i.ErrnoError))throw s;return s.errno}}function St(e,r,t,n,o){try{var a=C.getStreamFromFD(e),s=4294967296,u=t*s+(r>>>0),f=9007199254740992;return u<=-f||u>=f?-61:(i.llseek(a,u,n),W=[a.position>>>0,(B=a.position,+Math.abs(B)>=1?B>0?(Math.min(+Math.floor(B/4294967296),4294967295)|0)>>>0:~~+Math.ceil((B-+(~~B>>>0))/4294967296)>>>0:0)],_[o>>2]=W[0],_[o+4>>2]=W[1],a.getdents&&u===0&&n===0&&(a.getdents=null),0)}catch(l){if(typeof i>"u"||!(l instanceof i.ErrnoError))throw l;return l.errno}}function Pt(e,r,t,n){try{var o=C.getStreamFromFD(e),a=C.doWritev(o,r,t);return _[n>>2]=a,0}catch(s){if(typeof i>"u"||!(s instanceof i.ErrnoError))throw s;return s.errno}}function At(){return xr()}function Rt(e){Tr(e)}function he(e){return e%4===0&&(e%100!==0||e%400===0)}function Ft(e,r){for(var t=0,n=0;n<=r;t+=e[n++]);return t}var ur=[31,29,31,30,31,30,31,31,30,31,30,31],cr=[31,28,31,30,31,30,31,31,30,31,30,31];function Mt(e,r){for(var t=new Date(e.getTime());r>0;){var n=he(t.getFullYear()),o=t.getMonth(),a=(n?ur:cr)[o];if(r>a-t.getDate())r-=a-t.getDate()+1,t.setDate(1),o<11?t.setMonth(o+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else return t.setDate(t.getDate()+r),t}return t}function Ct(e,r,t,n){var o=_[n+40>>2],a={tm_sec:_[n>>2],tm_min:_[n+4>>2],tm_hour:_[n+8>>2],tm_mday:_[n+12>>2],tm_mon:_[n+16>>2],tm_year:_[n+20>>2],tm_wday:_[n+24>>2],tm_yday:_[n+28>>2],tm_isdst:_[n+32>>2],tm_gmtoff:_[n+36>>2],tm_zone:o?ne(o):""},s=ne(t),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in u)s=s.replace(new RegExp(f,"g"),u[f]);var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"];function p(v,S,T){for(var x=typeof v=="number"?v.toString():v||"";x.length<S;)x=T[0]+x;return x}function m(v,S){return p(v,S,"0")}function y(v,S){function T(j){return j<0?-1:j>0?1:0}var x;return(x=T(v.getFullYear()-S.getFullYear()))===0&&(x=T(v.getMonth()-S.getMonth()))===0&&(x=T(v.getDate()-S.getDate())),x}function D(v){switch(v.getDay()){case 0:return new Date(v.getFullYear()-1,11,29);case 1:return v;case 2:return new Date(v.getFullYear(),0,3);case 3:return new Date(v.getFullYear(),0,2);case 4:return new Date(v.getFullYear(),0,1);case 5:return new Date(v.getFullYear()-1,11,31);case 6:return new Date(v.getFullYear()-1,11,30)}}function R(v){var S=Mt(new Date(v.tm_year+1900,0,1),v.tm_yday),T=new Date(S.getFullYear(),0,4),x=new Date(S.getFullYear()+1,0,4),j=D(T),fi=D(x);return y(j,S)<=0?y(fi,S)<=0?S.getFullYear()+1:S.getFullYear():S.getFullYear()-1}var L={"%a":function(v){return l[v.tm_wday].substring(0,3)},"%A":function(v){return l[v.tm_wday]},"%b":function(v){return d[v.tm_mon].substring(0,3)},"%B":function(v){return d[v.tm_mon]},"%C":function(v){var S=v.tm_year+1900;return m(S/100|0,2)},"%d":function(v){return m(v.tm_mday,2)},"%e":function(v){return p(v.tm_mday,2," ")},"%g":function(v){return R(v).toString().substring(2)},"%G":function(v){return R(v)},"%H":function(v){return m(v.tm_hour,2)},"%I":function(v){var S=v.tm_hour;return S==0?S=12:S>12&&(S-=12),m(S,2)},"%j":function(v){return m(v.tm_mday+Ft(he(v.tm_year+1900)?ur:cr,v.tm_mon-1),3)},"%m":function(v){return m(v.tm_mon+1,2)},"%M":function(v){return m(v.tm_min,2)},"%n":function(){return`
`},"%p":function(v){return v.tm_hour>=0&&v.tm_hour<12?"AM":"PM"},"%S":function(v){return m(v.tm_sec,2)},"%t":function(){return"	"},"%u":function(v){return v.tm_wday||7},"%U":function(v){var S=v.tm_yday+7-v.tm_wday;return m(Math.floor(S/7),2)},"%V":function(v){var S=Math.floor((v.tm_yday+7-(v.tm_wday+6)%7)/7);if((v.tm_wday+371-v.tm_yday-2)%7<=2&&S++,S){if(S==53){var x=(v.tm_wday+371-v.tm_yday)%7;x!=4&&(x!=3||!he(v.tm_year))&&(S=1)}}else{S=52;var T=(v.tm_wday+7-v.tm_yday-1)%7;(T==4||T==5&&he(v.tm_year%400-1))&&S++}return m(S,2)},"%w":function(v){return v.tm_wday},"%W":function(v){var S=v.tm_yday+7-(v.tm_wday+6)%7;return m(Math.floor(S/7),2)},"%y":function(v){return(v.tm_year+1900).toString().substring(2)},"%Y":function(v){return v.tm_year+1900},"%z":function(v){var S=v.tm_gmtoff,T=S>=0;return S=Math.abs(S)/60,S=S/60*100+S%60,(T?"+":"-")+String("0000"+S).slice(-4)},"%Z":function(v){return v.tm_zone},"%%":function(){return"%"}};s=s.replace(/%%/g,"\0\0");for(var f in L)s.includes(f)&&(s=s.replace(new RegExp(f,"g"),L[f](a)));s=s.replace(/\0\0/g,"%");var U=ge(s,!1);return U.length>r?0:(Ke(U,e),U.length-1)}var fr=function(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=i.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n},pe=365,we=146;Object.defineProperties(fr.prototype,{read:{get:function(){return(this.mode&pe)===pe},set:function(e){e?this.mode|=pe:this.mode&=~pe}},write:{get:function(){return(this.mode&we)===we},set:function(e){e?this.mode|=we:this.mode&=~we}},isFolder:{get:function(){return i.isDir(this.mode)}},isDevice:{get:function(){return i.isChrdev(this.mode)}}}),i.FSNode=fr,i.staticInit();function ge(e,r,t){var n=t>0?t:ve(e)+1,o=new Array(n),a=de(e,o,0,o.length);return r&&(o.length=a),o}var Tt={S:tt,ya:nt,za:it,sa:ot,ra:at,ta:st,Aa:ut,qa:ct,Ba:ft,Ca:lt,Da:je,Q:mt,Ea:ht,L:gt,ua:_t,va:Et,ba:kt,R:bt,xa:Dt,da:St,wa:Pt,a:At,t:Dn,n:Cn,Ga:zn,C:An,P:yn,h:Gt,aa:Fn,d:Xt,Na:Qt,e:Wt,Ja:Mn,X:Hn,j:rn,Fa:qn,I:Gn,ca:dn,V:Wn,o:en,m:tn,Ha:On,u:Jt,E:mn,J:_n,H:nn,O:kn,Ma:En,ma:Qn,la:ei,ea:si,fa:ai,na:Jn,ja:ti,oa:Zn,ga:oi,i:$t,c:qt,v:Rn,w:vn,p:wn,_:jn,y:Tn,D:xn,T:$n,$:In,Y:Ln,g:Kt,Ia:Nn,N:Sn,W:Vn,f:Zt,Z:Bn,r:Un,B:cn,k:an,U:Xn,l:on,G:un,s:fn,A:ln,x:sn,M:Yn,q:gn,F:pn,K:hn,La:Pn,z:bn,ha:ii,ka:ri,ia:ni,pa:Kn,b:Rt,Ka:Ct},pi=Kr(),xt=c.___wasm_call_ctors=function(){return(xt=c.___wasm_call_ctors=c.asm.Pa).apply(null,arguments)},It=c._initContext=function(){return(It=c._initContext=c.asm.Qa).apply(null,arguments)},jt=c._openDocumentFromBuffer=function(){return(jt=c._openDocumentFromBuffer=c.asm.Ra).apply(null,arguments)},Ut=c._countPages=function(){return(Ut=c._countPages=c.asm.Sa).apply(null,arguments)},Bt=c._pageText=function(){return(Bt=c._pageText=c.asm.Ta).apply(null,arguments)},Nt=c._drawPageAsSVG=function(){return(Nt=c._drawPageAsSVG=c.asm.Ua).apply(null,arguments)},Lt=c._pageWidth=function(){return(Lt=c._pageWidth=c.asm.Va).apply(null,arguments)},Ot=c._pageHeight=function(){return(Ot=c._pageHeight=c.asm.Wa).apply(null,arguments)},zt=c._pageLinks=function(){return(zt=c._pageLinks=c.asm.Xa).apply(null,arguments)},Ht=c._search=function(){return(Ht=c._search=c.asm.Ya).apply(null,arguments)},Vt=c._documentTitle=function(){return(Vt=c._documentTitle=c.asm.Za).apply(null,arguments)},Yt=c._loadOutline=function(){return(Yt=c._loadOutline=c.asm._a).apply(null,arguments)},lr=c._malloc=function(){return(lr=c._malloc=c.asm.$a).apply(null,arguments)},dr=c.___errno_location=function(){return(dr=c.___errno_location=c.asm.bb).apply(null,arguments)},E=c._setThrew=function(){return(E=c._setThrew=c.asm.cb).apply(null,arguments)},w=c.stackSave=function(){return(w=c.stackSave=c.asm.db).apply(null,arguments)},g=c.stackRestore=function(){return(g=c.stackRestore=c.asm.eb).apply(null,arguments)},Ne=c.stackAlloc=function(){return(Ne=c.stackAlloc=c.asm.fb).apply(null,arguments)},vr=c.dynCall_vij=function(){return(vr=c.dynCall_vij=c.asm.gb).apply(null,arguments)},mr=c.dynCall_jii=function(){return(mr=c.dynCall_jii=c.asm.hb).apply(null,arguments)},hr=c.dynCall_viiji=function(){return(hr=c.dynCall_viiji=c.asm.ib).apply(null,arguments)},pr=c.dynCall_iiijj=function(){return(pr=c.dynCall_iiijj=c.asm.jb).apply(null,arguments)},wr=c.dynCall_iiiiiiiij=function(){return(wr=c.dynCall_iiiiiiiij=c.asm.kb).apply(null,arguments)},gr=c.dynCall_iiiiiiji=function(){return(gr=c.dynCall_iiiiiiji=c.asm.lb).apply(null,arguments)},yr=c.dynCall_viij=function(){return(yr=c.dynCall_viij=c.asm.mb).apply(null,arguments)},_r=c.dynCall_iij=function(){return(_r=c.dynCall_iij=c.asm.nb).apply(null,arguments)},Er=c.dynCall_viiij=function(){return(Er=c.dynCall_viiij=c.asm.ob).apply(null,arguments)},kr=c.dynCall_jiij=function(){return(kr=c.dynCall_jiij=c.asm.pb).apply(null,arguments)},br=c.dynCall_iiij=function(){return(br=c.dynCall_iiij=c.asm.qb).apply(null,arguments)},Dr=c.dynCall_iiiiij=function(){return(Dr=c.dynCall_iiiiij=c.asm.rb).apply(null,arguments)};function Wt(e,r,t,n){var o=w();try{return k(e)(r,t,n)}catch(a){if(g(o),a!==a+0)throw a;E(1,0)}}function Gt(e,r){var t=w();try{return k(e)(r)}catch(n){if(g(t),n!==n+0)throw n;E(1,0)}}function Xt(e,r,t){var n=w();try{return k(e)(r,t)}catch(o){if(g(n),o!==o+0)throw o;E(1,0)}}function qt(e,r,t){var n=w();try{k(e)(r,t)}catch(o){if(g(n),o!==o+0)throw o;E(1,0)}}function $t(e,r){var t=w();try{k(e)(r)}catch(n){if(g(t),n!==n+0)throw n;E(1,0)}}function Kt(e,r,t,n){var o=w();try{k(e)(r,t,n)}catch(a){if(g(o),a!==a+0)throw a;E(1,0)}}function Zt(e,r,t,n,o){var a=w();try{k(e)(r,t,n,o)}catch(s){if(g(a),s!==s+0)throw s;E(1,0)}}function Jt(e,r,t,n,o,a,s,u){var f=w();try{return k(e)(r,t,n,o,a,s,u)}catch(l){if(g(f),l!==l+0)throw l;E(1,0)}}function Qt(e,r,t,n,o){var a=w();try{return k(e)(r,t,n,o)}catch(s){if(g(a),s!==s+0)throw s;E(1,0)}}function en(e,r,t,n,o,a){var s=w();try{return k(e)(r,t,n,o,a)}catch(u){if(g(s),u!==u+0)throw u;E(1,0)}}function rn(e,r,t,n,o){var a=w();try{return k(e)(r,t,n,o)}catch(s){if(g(a),s!==s+0)throw s;E(1,0)}}function tn(e,r,t,n,o,a,s){var u=w();try{return k(e)(r,t,n,o,a,s)}catch(f){if(g(u),f!==f+0)throw f;E(1,0)}}function nn(e,r,t,n,o,a,s,u,f,l,d){var p=w();try{return k(e)(r,t,n,o,a,s,u,f,l,d)}catch(m){if(g(p),m!==m+0)throw m;E(1,0)}}function on(e,r,t,n,o,a,s){var u=w();try{k(e)(r,t,n,o,a,s)}catch(f){if(g(u),f!==f+0)throw f;E(1,0)}}function an(e,r,t,n,o,a){var s=w();try{k(e)(r,t,n,o,a)}catch(u){if(g(s),u!==u+0)throw u;E(1,0)}}function sn(e,r,t,n,o,a,s,u,f,l){var d=w();try{k(e)(r,t,n,o,a,s,u,f,l)}catch(p){if(g(d),p!==p+0)throw p;E(1,0)}}function un(e,r,t,n,o,a,s,u,f){var l=w();try{k(e)(r,t,n,o,a,s,u,f)}catch(d){if(g(l),d!==d+0)throw d;E(1,0)}}function cn(e,r,t,n,o,a,s){var u=w();try{k(e)(r,t,n,o,a,s)}catch(f){if(g(u),f!==f+0)throw f;E(1,0)}}function fn(e,r,t,n,o,a,s,u){var f=w();try{k(e)(r,t,n,o,a,s,u)}catch(l){if(g(f),l!==l+0)throw l;E(1,0)}}function ln(e,r,t,n,o,a,s,u,f){var l=w();try{k(e)(r,t,n,o,a,s,u,f)}catch(d){if(g(l),d!==d+0)throw d;E(1,0)}}function dn(e,r,t,n,o,a,s,u,f){var l=w();try{return k(e)(r,t,n,o,a,s,u,f)}catch(d){if(g(l),d!==d+0)throw d;E(1,0)}}function vn(e,r,t,n){var o=w();try{k(e)(r,t,n)}catch(a){if(g(o),a!==a+0)throw a;E(1,0)}}function mn(e,r,t,n,o,a,s,u,f){var l=w();try{return k(e)(r,t,n,o,a,s,u,f)}catch(d){if(g(l),d!==d+0)throw d;E(1,0)}}function hn(e,r,t,n,o,a,s,u,f,l,d){var p=w();try{k(e)(r,t,n,o,a,s,u,f,l,d)}catch(m){if(g(p),m!==m+0)throw m;E(1,0)}}function pn(e,r,t,n,o,a,s,u,f,l){var d=w();try{k(e)(r,t,n,o,a,s,u,f,l)}catch(p){if(g(d),p!==p+0)throw p;E(1,0)}}function wn(e,r,t,n,o){var a=w();try{k(e)(r,t,n,o)}catch(s){if(g(a),s!==s+0)throw s;E(1,0)}}function gn(e,r,t,n,o,a,s,u,f){var l=w();try{k(e)(r,t,n,o,a,s,u,f)}catch(d){if(g(l),d!==d+0)throw d;E(1,0)}}function yn(e,r,t,n,o,a){var s=w();try{return k(e)(r,t,n,o,a)}catch(u){if(g(s),u!==u+0)throw u;E(1,0)}}function _n(e,r,t,n,o,a,s,u,f,l){var d=w();try{return k(e)(r,t,n,o,a,s,u,f,l)}catch(p){if(g(d),p!==p+0)throw p;E(1,0)}}function En(e,r,t,n,o,a,s,u,f,l,d,p,m,y,D,R,L){var U=w();try{return k(e)(r,t,n,o,a,s,u,f,l,d,p,m,y,D,R,L)}catch(v){if(g(U),v!==v+0)throw v;E(1,0)}}function kn(e,r,t,n,o,a,s,u,f,l,d,p,m,y){var D=w();try{return k(e)(r,t,n,o,a,s,u,f,l,d,p,m,y)}catch(R){if(g(D),R!==R+0)throw R;E(1,0)}}function bn(e,r,t,n,o,a,s,u,f,l,d,p,m,y){var D=w();try{k(e)(r,t,n,o,a,s,u,f,l,d,p,m,y)}catch(R){if(g(D),R!==R+0)throw R;E(1,0)}}function Dn(e,r,t){var n=w();try{return k(e)(r,t)}catch(o){if(g(n),o!==o+0)throw o;E(1,0)}}function Sn(e,r,t,n,o){var a=w();try{k(e)(r,t,n,o)}catch(s){if(g(a),s!==s+0)throw s;E(1,0)}}function Pn(e,r,t,n,o,a,s,u,f,l,d,p){var m=w();try{k(e)(r,t,n,o,a,s,u,f,l,d,p)}catch(y){if(g(m),y!==y+0)throw y;E(1,0)}}function An(e,r,t,n,o){var a=w();try{return k(e)(r,t,n,o)}catch(s){if(g(a),s!==s+0)throw s;E(1,0)}}function Rn(e,r,t,n){var o=w();try{k(e)(r,t,n)}catch(a){if(g(o),a!==a+0)throw a;E(1,0)}}function Fn(e,r,t){var n=w();try{return k(e)(r,t)}catch(o){if(g(n),o!==o+0)throw o;E(1,0)}}function Mn(e,r,t,n,o){var a=w();try{return k(e)(r,t,n,o)}catch(s){if(g(a),s!==s+0)throw s;E(1,0)}}function Cn(e,r,t,n){var o=w();try{return k(e)(r,t,n)}catch(a){if(g(o),a!==a+0)throw a;E(1,0)}}function Tn(e,r,t,n,o,a,s){var u=w();try{k(e)(r,t,n,o,a,s)}catch(f){if(g(u),f!==f+0)throw f;E(1,0)}}function xn(e,r,t,n,o,a,s,u,f){var l=w();try{k(e)(r,t,n,o,a,s,u,f)}catch(d){if(g(l),d!==d+0)throw d;E(1,0)}}function In(e,r,t,n,o,a,s){var u=w();try{k(e)(r,t,n,o,a,s)}catch(f){if(g(u),f!==f+0)throw f;E(1,0)}}function jn(e,r,t,n,o,a){var s=w();try{k(e)(r,t,n,o,a)}catch(u){if(g(s),u!==u+0)throw u;E(1,0)}}function Un(e,r,t,n,o,a,s){var u=w();try{k(e)(r,t,n,o,a,s)}catch(f){if(g(u),f!==f+0)throw f;E(1,0)}}function Bn(e,r,t,n,o,a){var s=w();try{k(e)(r,t,n,o,a)}catch(u){if(g(s),u!==u+0)throw u;E(1,0)}}function Nn(e,r,t,n,o){var a=w();try{k(e)(r,t,n,o)}catch(s){if(g(a),s!==s+0)throw s;E(1,0)}}function Ln(e,r,t,n,o){var a=w();try{k(e)(r,t,n,o)}catch(s){if(g(a),s!==s+0)throw s;E(1,0)}}function On(e,r,t,n,o,a,s,u,f){var l=w();try{return k(e)(r,t,n,o,a,s,u,f)}catch(d){if(g(l),d!==d+0)throw d;E(1,0)}}function zn(e,r,t,n,o,a,s,u){var f=w();try{return k(e)(r,t,n,o,a,s,u)}catch(l){if(g(f),l!==l+0)throw l;E(1,0)}}function Hn(e,r,t,n,o,a){var s=w();try{return k(e)(r,t,n,o,a)}catch(u){if(g(s),u!==u+0)throw u;E(1,0)}}function Vn(e,r,t,n,o,a,s,u,f,l,d,p){var m=w();try{k(e)(r,t,n,o,a,s,u,f,l,d,p)}catch(y){if(g(m),y!==y+0)throw y;E(1,0)}}function Yn(e,r,t,n,o,a,s,u,f,l,d,p,m,y,D,R,L,U,v,S){var T=w();try{k(e)(r,t,n,o,a,s,u,f,l,d,p,m,y,D,R,L,U,v,S)}catch(x){if(g(T),x!==x+0)throw x;E(1,0)}}function Wn(e,r,t,n,o,a,s,u,f,l,d,p,m){var y=w();try{return k(e)(r,t,n,o,a,s,u,f,l,d,p,m)}catch(D){if(g(y),D!==D+0)throw D;E(1,0)}}function Gn(e,r,t,n,o,a,s,u){var f=w();try{return k(e)(r,t,n,o,a,s,u)}catch(l){if(g(f),l!==l+0)throw l;E(1,0)}}function Xn(e,r,t,n,o,a,s,u,f){var l=w();try{k(e)(r,t,n,o,a,s,u,f)}catch(d){if(g(l),d!==d+0)throw d;E(1,0)}}function qn(e,r,t,n,o,a,s,u,f,l,d,p){var m=w();try{return k(e)(r,t,n,o,a,s,u,f,l,d,p)}catch(y){if(g(m),y!==y+0)throw y;E(1,0)}}function $n(e,r,t,n,o,a,s,u,f,l){var d=w();try{k(e)(r,t,n,o,a,s,u,f,l)}catch(p){if(g(d),p!==p+0)throw p;E(1,0)}}function Kn(e,r,t,n){var o=w();try{vr(e,r,t,n)}catch(a){if(g(o),a!==a+0)throw a;E(1,0)}}function Zn(e,r,t){var n=w();try{return mr(e,r,t)}catch(o){if(g(n),o!==o+0)throw o;E(1,0)}}function Jn(e,r,t,n,o,a,s){var u=w();try{return pr(e,r,t,n,o,a,s)}catch(f){if(g(u),f!==f+0)throw f;E(1,0)}}function Qn(e,r,t,n,o,a,s,u,f,l){var d=w();try{return wr(e,r,t,n,o,a,s,u,f,l)}catch(p){if(g(d),p!==p+0)throw p;E(1,0)}}function ei(e,r,t,n,o,a,s,u,f){var l=w();try{return gr(e,r,t,n,o,a,s,u,f)}catch(d){if(g(l),d!==d+0)throw d;E(1,0)}}function ri(e,r,t,n,o){var a=w();try{yr(e,r,t,n,o)}catch(s){if(g(a),s!==s+0)throw s;E(1,0)}}function ti(e,r,t,n){var o=w();try{return _r(e,r,t,n)}catch(a){if(g(o),a!==a+0)throw a;E(1,0)}}function ni(e,r,t,n,o,a){var s=w();try{hr(e,r,t,n,o,a)}catch(u){if(g(s),u!==u+0)throw u;E(1,0)}}function ii(e,r,t,n,o,a){var s=w();try{Er(e,r,t,n,o,a)}catch(u){if(g(s),u!==u+0)throw u;E(1,0)}}function oi(e,r,t,n,o){var a=w();try{return kr(e,r,t,n,o)}catch(s){if(g(a),s!==s+0)throw s;E(1,0)}}function ai(e,r,t,n,o){var a=w();try{return br(e,r,t,n,o)}catch(s){if(g(a),s!==s+0)throw s;E(1,0)}}function si(e,r,t,n,o,a,s){var u=w();try{return Dr(e,r,t,n,o,a,s)}catch(f){if(g(u),f!==f+0)throw f;E(1,0)}}c.ccall=Ge,c.cwrap=Ur;var ye;function Le(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}ie=function e(){ye||Oe(),ye||(ie=e)};function Oe(e){if(e=e||N,Z>0||(Hr(),Z>0))return;function r(){ye||(ye=!0,c.calledRun=!0,!Fe&&(Vr(),b(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),Yr()))}c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),r()},1)):r()}c.run=Oe;function ui(e,r){Me=e,ci(e)}function ci(e){Me=e,ir()||(c.onExit&&c.onExit(e),Fe=!0),Q(e,new Le(e))}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();return Oe(),c.ready}})(),Pr=li;var ze=class{mu_doc;mu_openDocumentFromBuffer;mu_initContext;mu_documentTitle;mu_countPages;mu_pageWidth;mu_pageHeight;mu_drawPageAsSVG;async loadModule(){let h=await Pr();this.mu_initContext=h.cwrap("initContext",null,[]),this.mu_openDocumentFromBuffer=h.cwrap("openDocumentFromBuffer",null,["array","number","string"]),this.mu_documentTitle=h.cwrap("documentTitle","string",[]),this.mu_countPages=h.cwrap("countPages","number",[]),this.mu_pageWidth=h.cwrap("pageWidth","number",["number"]),this.mu_pageHeight=h.cwrap("pageHeight","number",["number"]),this.mu_drawPageAsSVG=h.cwrap("drawPageAsSVG","string",["number","number"]),console.log("--Mu: Module Loaded")}},ke=class extends ze{pageinfo;renderer;async init(h){await this.loadModule();let b=await(await fetch(h)).arrayBuffer(),A=new Uint8Array(b);this.mu_initContext(),this.mu_openDocumentFromBuffer(A,A.length,"1.pdf"),console.log("--Mu: Document Loaded"),this.initPages(),this.initRenderer(),console.log("--Mu: Component Loaded")}initPages(){let h=this.mu_countPages(),c=new Uint32Array(h+1),b=new Uint32Array(h+1);for(var A=1;A<=h;A++){let I=this.mu_pageWidth(A),N=this.mu_pageHeight(A);c[A]=I,b[A]=N}this.pageinfo={doc_title:this.mu_documentTitle(),doc_pages:h,page_width:c,page_height:b}}initRenderer(){this.renderer={renderSVG:async h=>{var c=this.mu_drawPageAsSVG(h,1).replace("viewBox",'buffered-rendering="static" viewBox').replaceAll("font_",`font_${h}_`).replaceAll('<mask id="ma',`<mask id="ma_${h}_`).replaceAll('"url(#ma',`"url(#ma_${h}_`).replaceAll('<clipPath id="cp',`<clipPath id="cp_${h}_`).replaceAll('"url(#cp',`"url(#cp_${h}_`).replaceAll('font-style="italic"',"").replaceAll('font-weight="bold"',"");return c}}}};function di(){let M=document.createElement("div");document.body.appendChild(M);let h=document.createElement("input");return h.className="FileUploader",h.type="file",h.accept=".pdf",M.appendChild(h),new Promise((c,b)=>{h.addEventListener("change",A=>{A.preventDefault();let I=h.files[0];document.body.removeChild(M),c(URL.createObjectURL(I))})})}async function Ar(){return window.location.href.startsWith("http://localhost")?"sample11.pdf":di()}var be=class extends Map{trim(h,c,b){if(this.size>h)for(let[A,I]of this.entries())c(A)||(this.delete(A),b(I))}getOrSet(h,c){if(this.has(h))return this.get(h);{let b=c();return this.set(h,b),b}}};function Rr(M){return new Promise((h,c)=>{setTimeout(h,M)})}function De(){return[window.scrollX+visualViewport.offsetLeft,window.scrollY+visualViewport.offsetTop,window.scrollX+visualViewport.offsetLeft+visualViewport.width,window.scrollY+visualViewport.offsetTop+visualViewport.height]}function He(M){let h=De();return h[1]-=M*visualViewport.height,h[3]+=M*visualViewport.height,h}function Ve(M,h,c,b){var A=0,I=!1;return async N=>{let X=++A;I||(I=!0,M&&console.log(`--Action: Begin ${M}--`),c&&c()),await Rr(h),A==X&&(I=!1,b&&b(),M&&console.log(`--Action: End   ${M}--`))}}var vi=12,Se=class{doc_page;doc_render;viewer_layout;viewer_div=document.createElement("div");viewer_pages=new be;async init(h,c){this.viewer_layout=c,this.viewer_div.style.setProperty("--image-quality","auto"),this.doc_page=h.pageinfo,this.doc_render=h.renderer,c.setContainerCSS(this.viewer_div),document.body.appendChild(this.viewer_div),document.title=this.doc_page.doc_title;let b=this.viewer_layout.getPageRange(He(2));this.viewUpdateEarly(b);let A=()=>this.onScrollIng(),I=Ve("scroll",160,null,()=>this.onScrollEnd()),N=Ve("zoom",80,()=>this.onZoomStart(),()=>this.onZoomEnd());window.addEventListener("scroll",A),window.addEventListener("scroll",I),visualViewport.addEventListener("scroll",A),visualViewport.addEventListener("scroll",I),visualViewport.addEventListener("resize",N)}pageAdd(h){let c=this.pageInit(h),b=c.img,A=c.div;return this.viewer_pages.set(h,c),this.viewer_layout.setPageCSS(A,b,h),this.viewer_div.appendChild(A),A.appendChild(b),c}pageRemove(h){let{div:c,img:b}=h;console.log(`Removing ${h.pn}`),this.viewer_div.removeChild(c),c.removeChild(b),b.className=""}async viewUpdateEarly([h,c]){for(var b=h;b<=c;b++)if(!this.viewer_pages.has(b)){let N=this.pageAdd(b);await this.pageImgUpdate(N,1)}let A=De(),I=this.viewer_layout.getPageRange(A);await this.viewUpdateCur(I),this.viewer_pages.trim(vi,N=>h<=N&&N<=c,N=>this.pageRemove(N))}async viewUpdateUrgent([h,c]){let b=[];h-1>=1&&b.push(h-1),c+1<=this.doc_page.doc_pages&&b.push(c+1);for(var A of b)if(!this.viewer_pages.has(A)){let I=this.pageAdd(A);await this.pageImgUpdate(I,0)}}async viewUpdateCur(h){}onScrollIng(){let h=this.viewer_layout.getPageRange(De());this.viewUpdateUrgent(h)}onScrollEnd(){let h=this.viewer_layout.getPageRange(He(3));this.viewUpdateEarly(h)}onZoomStart(){this.viewer_div.style.setProperty("--image-quality","pixelated")}onZoomEnd(){this.viewer_div.style.setProperty("--image-quality","auto")}};var Pe=class extends Se{pageInit(h){return{img:document.createElement("div"),div:document.createElement("div"),pn:h,rendered:!1}}async pageImgUpdate(h,c){if(!h.rendered){let b=await this.doc_render.renderSVG(h.pn,-1);h.img.innerHTML=b,h.rendered=!0}}};(async()=>{let M=await Ar(),h=new ke;await h.init(M);let c=new Ee(25,h.pageinfo);new Pe().init(h,c)})();})();
