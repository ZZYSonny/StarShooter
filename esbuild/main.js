(()=>{var ba=Object.create;var Sr=Object.defineProperty;var Ca=Object.getOwnPropertyDescriptor;var Pa=Object.getOwnPropertyNames;var Da=Object.getPrototypeOf,Aa=Object.prototype.hasOwnProperty;var _e=(C=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(C,{get:(d,i)=>(typeof require!="undefined"?require:d)[i]}):C)(function(C){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+C+'" is not supported')});var Rr=(C,d)=>()=>(d||C((d={exports:{}}).exports,d),d.exports);var ja=(C,d,i,w)=>{if(d&&typeof d=="object"||typeof d=="function")for(let k of Pa(d))!Aa.call(C,k)&&k!==i&&Sr(C,k,{get:()=>d[k],enumerable:!(w=Ca(d,k))||w.enumerable});return C};var Sa=(C,d,i)=>(i=C!=null?ba(Da(C)):{},ja(d||!C||!C.__esModule?Sr(i,"default",{value:C,enumerable:!0}):i,C));var Mr=Rr((Ee,Oe)=>{var Le=function(){var C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(C=C||__filename),function(d){d=d||{};var i=typeof d<"u"?d:{},w,k;i.ready=new Promise(function(e,n){w=e,k=n}),i.noExitRuntime=!0,i.noInitialRun=!0,i.locateFile=function(e,n){return ee?n+e:e},i.onRuntimeInitialized=function(){i.ccall("initContext"),d.openDocument=i.cwrap("openDocument","number",["string"]),d.freeDocument=i.cwrap("freeDocument","null",["number"]),d.documentTitle=i.cwrap("documentTitle","string",["number"]),d.countPages=i.cwrap("countPages","number",["number"]),d.pageWidth=i.cwrap("pageWidth","number",["number","number","number"]),d.pageHeight=i.cwrap("pageHeight","number",["number","number","number"]),d.pageLinks=i.cwrap("pageLinks","string",["number","number","number"]),d.drawPageAsPNG=i.cwrap("drawPageAsPNG","string",["number","number","number"]),d.drawPageAsHTML=i.cwrap("drawPageAsHTML","string",["number","number"]),d.drawPageAsSVG=i.cwrap("drawPageAsSVG","string",["number","number"]),d.loadOutline=i.cwrap("loadOutline","number",["number"]),d.freeOutline=i.cwrap("freeOutline",null,["number"]),d.outlineTitle=i.cwrap("outlineTitle","string",["number"]),d.outlinePage=i.cwrap("outlinePage","number",["number"]),d.outlineDown=i.cwrap("outlineDown","number",["number"]),d.outlineNext=i.cwrap("outlineNext","number",["number"])},d.documentOutline=function(e){function n(o){for(var u=document.createElement("ul");o;){var l=document.createElement("li"),s=document.createElement("a");s.href="#page"+d.outlinePage(o),s.textContent=d.outlineTitle(o),l.appendChild(s);var f=d.outlineDown(o);f&&l.appendChild(n(f)),u.appendChild(l),o=d.outlineNext(o)}return u}var r=d.loadOutline(e);if(r){var t=n(r);return d.freeOutline(r),t}return null};var E={},A;for(A in i)i.hasOwnProperty(A)&&(E[A]=i[A]);var F=[],$="./this.program",j=function(e,n){throw n},T=!1,V=!1,ee=!1,He=!1;T=typeof window=="object",V=typeof importScripts=="function",ee=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",He=!T&&!ee&&!V;var H="";function Ir(e){return i.locateFile?i.locateFile(e,H):H+e}var ne,Nr,oe,Lr,ce,Ce;ee?(V?H=_e("path").dirname(H)+"/":H=__dirname+"/",ne=function(n,r){return ce||(ce=_e("fs")),Ce||(Ce=_e("path")),n=Ce.normalize(n),ce.readFileSync(n,r?null:"utf8")},oe=function(n){var r=ne(n,!0);return r.buffer||(r=new Uint8Array(r)),ve(r.buffer),r},process.argv.length>1&&($=process.argv[1].replace(/\\/g,"/")),F=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof jr))throw e}),process.on("unhandledRejection",O),j=function(e){process.exit(e)},i.inspect=function(){return"[Emscripten Module object]"}):He?(typeof read<"u"&&(ne=function(n){return read(n)}),oe=function(n){var r;return typeof readbuffer=="function"?new Uint8Array(readbuffer(n)):(r=read(n,"binary"),ve(typeof r=="object"),r)},typeof scriptArgs<"u"?F=scriptArgs:typeof arguments<"u"&&(F=arguments),typeof quit=="function"&&(j=function(e){quit(e)}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(T||V)&&(V?H=self.location.href:document.currentScript&&(H=document.currentScript.src),C&&(H=C),H.indexOf("blob:")!==0?H=H.substr(0,H.lastIndexOf("/")+1):H="",ne=function(n){var r=new XMLHttpRequest;return r.open("GET",n,!1),r.send(null),r.responseText},V&&(oe=function(n){var r=new XMLHttpRequest;return r.open("GET",n,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),Nr=function(n,r,t){var o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType="arraybuffer",o.onload=function(){if(o.status==200||o.status==0&&o.response){r(o.response);return}t()},o.onerror=t,o.send(null)},Lr=function(e){document.title=e});var ue=i.print||console.log.bind(console),x=i.printErr||console.warn.bind(console);for(A in E)E.hasOwnProperty(A)&&(i[A]=E[A]);E=null,i.arguments&&(F=i.arguments),i.thisProgram&&($=i.thisProgram),i.quit&&(j=i.quit);var We=0,Or=function(e){We=e},Ur=function(){return We},le;i.wasmBinary&&(le=i.wasmBinary);var de;i.noExitRuntime&&(de=i.noExitRuntime),typeof WebAssembly!="object"&&x("no native wasm support detected");var Q,zr=new WebAssembly.Table({initial:2796,maximum:2796+0,element:"anyfunc"}),Pe=!1,Ve=0;function ve(e,n){e||O("Assertion failed: "+n)}function Ge(e){var n=i["_"+e];return ve(n,"Cannot call unknown function "+e+", make sure it is exported"),n}function qe(e,n,r,t,o){var u={string:function(p){var P=0;if(p!=null&&p!==0){var R=(p.length<<2)+1;P=Ie(R),Ae(p,P,R)}return P},array:function(p){var P=Ie(p.length);return Wr(p,P),P}};function l(p){return n==="string"?Ye(p):n==="boolean"?Boolean(p):p}var s=Ge(e),f=[],v=0;if(t)for(var c=0;c<t.length;c++){var m=u[r[c]];m?(v===0&&(v=g()),f[c]=m(t[c])):f[c]=t[c]}var y=s.apply(null,f);return y=l(y),v!==0&&_(v),y}function Hr(e,n,r,t){r=r||[];var o=r.every(function(l){return l==="number"}),u=n!=="string";return u&&o&&!t?Ge(e):function(){return qe(e,n,r,arguments,t)}}var Xe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function re(e,n,r){for(var t=n+r,o=n;e[o]&&!(o>=t);)++o;if(o-n>16&&e.subarray&&Xe)return Xe.decode(e.subarray(n,o));for(var u="";n<o;){var l=e[n++];if(!(l&128)){u+=String.fromCharCode(l);continue}var s=e[n++]&63;if((l&224)==192){u+=String.fromCharCode((l&31)<<6|s);continue}var f=e[n++]&63;if((l&240)==224?l=(l&15)<<12|s<<6|f:l=(l&7)<<18|s<<12|f<<6|e[n++]&63,l<65536)u+=String.fromCharCode(l);else{var v=l-65536;u+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return u}function Ye(e,n){return e?re(te,e,n):""}function De(e,n,r,t){if(!(t>0))return 0;for(var o=r,u=r+t-1,l=0;l<e.length;++l){var s=e.charCodeAt(l);if(s>=55296&&s<=57343){var f=e.charCodeAt(++l);s=65536+((s&1023)<<10)|f&1023}if(s<=127){if(r>=u)break;n[r++]=s}else if(s<=2047){if(r+1>=u)break;n[r++]=192|s>>6,n[r++]=128|s&63}else if(s<=65535){if(r+2>=u)break;n[r++]=224|s>>12,n[r++]=128|s>>6&63,n[r++]=128|s&63}else{if(r+3>=u)break;n[r++]=240|s>>18,n[r++]=128|s>>12&63,n[r++]=128|s>>6&63,n[r++]=128|s&63}}return n[r]=0,r-o}function Ae(e,n,r){return De(e,te,n,r)}function je(e){for(var n=0,r=0;r<e.length;++r){var t=e.charCodeAt(r);t>=55296&&t<=57343&&(t=65536+((t&1023)<<10)|e.charCodeAt(++r)&1023),t<=127?++n:t<=2047?n+=2:t<=65535?n+=3:n+=4}return n}function Wr(e,n){q.set(e,n)}function Vr(e,n,r){for(var t=0;t<e.length;++t)q[n++>>0]=e.charCodeAt(t);r||(q[n>>0]=0)}var $e=65536;function Gr(e,n){return e%n>0&&(e+=n-e%n),e}var ie,q,te,Ke,qr,b,Xr,Yr,$r;function Je(e){ie=e,i.HEAP8=q=new Int8Array(e),i.HEAP16=Ke=new Int16Array(e),i.HEAP32=b=new Int32Array(e),i.HEAPU8=te=new Uint8Array(e),i.HEAPU16=qr=new Uint16Array(e),i.HEAPU32=Xr=new Uint32Array(e),i.HEAPF32=Yr=new Float32Array(e),i.HEAPF64=$r=new Float64Array(e)}var Kr=7347840,Jr=2104800,Qe=i.INITIAL_MEMORY||786432e3;i.wasmMemory?Q=i.wasmMemory:Q=new WebAssembly.Memory({initial:Qe/$e,maximum:2147483648/$e}),Q&&(ie=Q.buffer),Qe=ie.byteLength,Je(ie),b[Jr>>2]=Kr;function me(e){for(;e.length>0;){var n=e.shift();if(typeof n=="function"){n(i);continue}var r=n.func;typeof r=="number"?n.arg===void 0?i.dynCall_v(r):i.dynCall_vi(r,n.arg):r(n.arg===void 0?null:n.arg)}}var Ze=[],en=[],Qr=[],nn=[],Zr=!1,ei=!1;function ni(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)oi(i.preRun.shift());me(Ze)}function ri(){Zr=!0,!i.noFSInit&&!a.init.initialized&&a.init(),J.init(),me(en)}function ii(){a.ignorePermissions=!1,me(Qr)}function ti(){ei=!0}function ai(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)ui(i.postRun.shift());me(nn)}function oi(e){Ze.unshift(e)}function ui(e){nn.unshift(e)}var Se=Math.abs,Re=Math.ceil,Me=Math.floor,Fe=Math.min,Z=0,Te=null,se=null;function Oa(e){return e}function rn(e){Z++,i.monitorRunDependencies&&i.monitorRunDependencies(Z)}function xe(e){if(Z--,i.monitorRunDependencies&&i.monitorRunDependencies(Z),Z==0&&(Te!==null&&(clearInterval(Te),Te=null),se)){var n=se;se=null,n()}}i.preloadedImages={},i.preloadedAudios={};function O(e){throw i.onAbort&&i.onAbort(e),e+="",ue(e),x(e),Pe=!0,Ve=1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}function tn(e,n){return String.prototype.startsWith?e.startsWith(n):e.indexOf(n)===0}var li="data:application/octet-stream;base64,";function an(e){return tn(e,li)}var si="file://";function on(e){return tn(e,si)}var X="libmupdf.wasm";an(X)||(X=Ir(X));function un(){try{if(le)return new Uint8Array(le);if(oe)return oe(X);throw"both async and sync fetching of the wasm failed"}catch(e){O(e)}}function fi(){return!le&&(T||V)&&typeof fetch=="function"&&!on(X)?fetch(X,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+X+"'";return e.arrayBuffer()}).catch(function(){return un()}):new Promise(function(e,n){e(un())})}function ci(){var e={a:Hi};function n(l,s){var f=l.exports;i.asm=f,xe("wasm-instantiate")}rn("wasm-instantiate");function r(l){n(l.instance)}function t(l){return fi().then(function(s){return WebAssembly.instantiate(s,e)}).then(l,function(s){x("failed to asynchronously prepare wasm: "+s),O(s)})}function o(){if(!le&&typeof WebAssembly.instantiateStreaming=="function"&&!an(X)&&!on(X)&&typeof fetch=="function")fetch(X,{credentials:"same-origin"}).then(function(l){var s=WebAssembly.instantiateStreaming(l,e);return s.then(r,function(f){return x("wasm streaming compile failed: "+f),x("falling back to ArrayBuffer instantiation"),t(r)})});else return t(r)}if(i.instantiateWasm)try{var u=i.instantiateWasm(e,n);return u}catch(l){return x("Module.instantiateWasm callback failed with error: "+l),!1}return o(),{}}var B,K;en.push({func:function(){fn()}});function Ua(e){return e}function di(e){var n=/\b_Z[\w\d_]+/g;return e.replace(n,function(r){var t=r;return r===t?r:t+" ["+r+"]"})}function vi(){var e=new Error;if(!e.stack){try{throw new Error}catch(n){e=n}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function mi(){var e=vi();return i.extraStackTrace&&(e+=`
`+i.extraStackTrace()),di(e)}function pe(e){return b[dn()>>2]=e,e}var S={splitPath:function(e){var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return n.exec(e).slice(1)},normalizeArray:function(e,n){for(var r=0,t=e.length-1;t>=0;t--){var o=e[t];o==="."?e.splice(t,1):o===".."?(e.splice(t,1),r++):r&&(e.splice(t,1),r--)}if(n)for(;r;r--)e.unshift("..");return e},normalize:function(e){var n=e.charAt(0)==="/",r=e.substr(-1)==="/";return e=S.normalizeArray(e.split("/").filter(function(t){return!!t}),!n).join("/"),!e&&!n&&(e="."),e&&r&&(e+="/"),(n?"/":"")+e},dirname:function(e){var n=S.splitPath(e),r=n[0],t=n[1];return!r&&!t?".":(t&&(t=t.substr(0,t.length-1)),r+t)},basename:function(e){if(e==="/")return"/";var n=e.lastIndexOf("/");return n===-1?e:e.substr(n+1)},extname:function(e){return S.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return S.normalize(e.join("/"))},join2:function(e,n){return S.normalize(e+"/"+n)}},Y={resolve:function(){for(var e="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var t=r>=0?arguments[r]:a.cwd();if(typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,n=t.charAt(0)==="/"}return e=S.normalizeArray(e.split("/").filter(function(o){return!!o}),!n).join("/"),(n?"/":"")+e||"."},relative:function(e,n){e=Y.resolve(e).substr(1),n=Y.resolve(n).substr(1);function r(v){for(var c=0;c<v.length&&v[c]==="";c++);for(var m=v.length-1;m>=0&&v[m]==="";m--);return c>m?[]:v.slice(c,m-c+1)}for(var t=r(e.split("/")),o=r(n.split("/")),u=Math.min(t.length,o.length),l=u,s=0;s<u;s++)if(t[s]!==o[s]){l=s;break}for(var f=[],s=l;s<t.length;s++)f.push("..");return f=f.concat(o.slice(l)),f.join("/")}},J={ttys:[],init:function(){},shutdown:function(){},register:function(e,n){J.ttys[e]={input:[],output:[],ops:n},a.registerDevice(e,J.stream_ops)},stream_ops:{open:function(e){var n=J.ttys[e.node.rdev];if(!n)throw new a.ErrnoError(43);e.tty=n,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,n,r,t,o){if(!e.tty||!e.tty.ops.get_char)throw new a.ErrnoError(60);for(var u=0,l=0;l<t;l++){var s;try{s=e.tty.ops.get_char(e.tty)}catch{throw new a.ErrnoError(29)}if(s===void 0&&u===0)throw new a.ErrnoError(6);if(s==null)break;u++,n[r+l]=s}return u&&(e.node.timestamp=Date.now()),u},write:function(e,n,r,t,o){if(!e.tty||!e.tty.ops.put_char)throw new a.ErrnoError(60);try{for(var u=0;u<t;u++)e.tty.ops.put_char(e.tty,n[r+u])}catch{throw new a.ErrnoError(29)}return t&&(e.node.timestamp=Date.now()),u}},default_tty_ops:{get_char:function(e){if(!e.input.length){var n=null;if(ee){var r=256,t=Buffer.alloc?Buffer.alloc(r):new Buffer(r),o=0;try{o=ce.readSync(process.stdin.fd,t,0,r,null)}catch(u){if(u.toString().indexOf("EOF")!=-1)o=0;else throw u}o>0?n=t.slice(0,o).toString("utf-8"):n=null}else typeof window<"u"&&typeof window.prompt=="function"?(n=window.prompt("Input: "),n!==null&&(n+=`
`)):typeof readline=="function"&&(n=readline(),n!==null&&(n+=`
`));if(!n)return null;e.input=Be(n,!0)}return e.input.shift()},put_char:function(e,n){n===null||n===10?(ue(re(e.output,0)),e.output=[]):n!=0&&e.output.push(n)},flush:function(e){e.output&&e.output.length>0&&(ue(re(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,n){n===null||n===10?(x(re(e.output,0)),e.output=[]):n!=0&&e.output.push(n)},flush:function(e){e.output&&e.output.length>0&&(x(re(e.output,0)),e.output=[])}}},D={ops_table:null,mount:function(e){return D.createNode(null,"/",16895,0)},createNode:function(e,n,r,t){if(a.isBlkdev(r)||a.isFIFO(r))throw new a.ErrnoError(63);D.ops_table||(D.ops_table={dir:{node:{getattr:D.node_ops.getattr,setattr:D.node_ops.setattr,lookup:D.node_ops.lookup,mknod:D.node_ops.mknod,rename:D.node_ops.rename,unlink:D.node_ops.unlink,rmdir:D.node_ops.rmdir,readdir:D.node_ops.readdir,symlink:D.node_ops.symlink},stream:{llseek:D.stream_ops.llseek}},file:{node:{getattr:D.node_ops.getattr,setattr:D.node_ops.setattr},stream:{llseek:D.stream_ops.llseek,read:D.stream_ops.read,write:D.stream_ops.write,allocate:D.stream_ops.allocate,mmap:D.stream_ops.mmap,msync:D.stream_ops.msync}},link:{node:{getattr:D.node_ops.getattr,setattr:D.node_ops.setattr,readlink:D.node_ops.readlink},stream:{}},chrdev:{node:{getattr:D.node_ops.getattr,setattr:D.node_ops.setattr},stream:a.chrdev_stream_ops}});var o=a.createNode(e,n,r,t);return a.isDir(o.mode)?(o.node_ops=D.ops_table.dir.node,o.stream_ops=D.ops_table.dir.stream,o.contents={}):a.isFile(o.mode)?(o.node_ops=D.ops_table.file.node,o.stream_ops=D.ops_table.file.stream,o.usedBytes=0,o.contents=null):a.isLink(o.mode)?(o.node_ops=D.ops_table.link.node,o.stream_ops=D.ops_table.link.stream):a.isChrdev(o.mode)&&(o.node_ops=D.ops_table.chrdev.node,o.stream_ops=D.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[n]=o),o},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var n=[],r=0;r<e.usedBytes;++r)n.push(e.contents[r]);return n}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,n){var r=e.contents?e.contents.length:0;if(!(r>=n)){var t=1024*1024;n=Math.max(n,r*(r<t?2:1.125)>>>0),r!=0&&(n=Math.max(n,256));var o=e.contents;e.contents=new Uint8Array(n),e.usedBytes>0&&e.contents.set(o.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,n){if(e.usedBytes!=n){if(n==0){e.contents=null,e.usedBytes=0;return}if(!e.contents||e.contents.subarray){var r=e.contents;e.contents=new Uint8Array(n),r&&e.contents.set(r.subarray(0,Math.min(n,e.usedBytes))),e.usedBytes=n;return}if(e.contents||(e.contents=[]),e.contents.length>n)e.contents.length=n;else for(;e.contents.length<n;)e.contents.push(0);e.usedBytes=n}},node_ops:{getattr:function(e){var n={};return n.dev=a.isChrdev(e.mode)?e.id:1,n.ino=e.id,n.mode=e.mode,n.nlink=1,n.uid=0,n.gid=0,n.rdev=e.rdev,a.isDir(e.mode)?n.size=4096:a.isFile(e.mode)?n.size=e.usedBytes:a.isLink(e.mode)?n.size=e.link.length:n.size=0,n.atime=new Date(e.timestamp),n.mtime=new Date(e.timestamp),n.ctime=new Date(e.timestamp),n.blksize=4096,n.blocks=Math.ceil(n.size/n.blksize),n},setattr:function(e,n){n.mode!==void 0&&(e.mode=n.mode),n.timestamp!==void 0&&(e.timestamp=n.timestamp),n.size!==void 0&&D.resizeFileStorage(e,n.size)},lookup:function(e,n){throw a.genericErrors[44]},mknod:function(e,n,r,t){return D.createNode(e,n,r,t)},rename:function(e,n,r){if(a.isDir(e.mode)){var t;try{t=a.lookupNode(n,r)}catch{}if(t)for(var o in t.contents)throw new a.ErrnoError(55)}delete e.parent.contents[e.name],e.name=r,n.contents[r]=e,e.parent=n},unlink:function(e,n){delete e.contents[n]},rmdir:function(e,n){var r=a.lookupNode(e,n);for(var t in r.contents)throw new a.ErrnoError(55);delete e.contents[n]},readdir:function(e){var n=[".",".."];for(var r in e.contents)!e.contents.hasOwnProperty(r)||n.push(r);return n},symlink:function(e,n,r){var t=D.createNode(e,n,41471,0);return t.link=r,t},readlink:function(e){if(!a.isLink(e.mode))throw new a.ErrnoError(28);return e.link}},stream_ops:{read:function(e,n,r,t,o){var u=e.node.contents;if(o>=e.node.usedBytes)return 0;var l=Math.min(e.node.usedBytes-o,t);if(l>8&&u.subarray)n.set(u.subarray(o,o+l),r);else for(var s=0;s<l;s++)n[r+s]=u[o+s];return l},write:function(e,n,r,t,o,u){if(n.buffer===q.buffer&&(u=!1),!t)return 0;var l=e.node;if(l.timestamp=Date.now(),n.subarray&&(!l.contents||l.contents.subarray)){if(u)return l.contents=n.subarray(r,r+t),l.usedBytes=t,t;if(l.usedBytes===0&&o===0)return l.contents=n.slice(r,r+t),l.usedBytes=t,t;if(o+t<=l.usedBytes)return l.contents.set(n.subarray(r,r+t),o),t}if(D.expandFileStorage(l,o+t),l.contents.subarray&&n.subarray)l.contents.set(n.subarray(r,r+t),o);else for(var s=0;s<t;s++)l.contents[o+s]=n[r+s];return l.usedBytes=Math.max(l.usedBytes,o+t),t},llseek:function(e,n,r){var t=n;if(r===1?t+=e.position:r===2&&a.isFile(e.node.mode)&&(t+=e.node.usedBytes),t<0)throw new a.ErrnoError(28);return t},allocate:function(e,n,r){D.expandFileStorage(e.node,n+r),e.node.usedBytes=Math.max(e.node.usedBytes,n+r)},mmap:function(e,n,r,t,o,u){if(ve(n===0),!a.isFile(e.node.mode))throw new a.ErrnoError(43);var l,s,f=e.node.contents;if(!(u&2)&&f.buffer===ie)s=!1,l=f.byteOffset;else{if((t>0||t+r<f.length)&&(f.subarray?f=f.subarray(t,t+r):f=Array.prototype.slice.call(f,t,t+r)),s=!0,l=cn(r),!l)throw new a.ErrnoError(48);q.set(f,l)}return{ptr:l,allocated:s}},msync:function(e,n,r,t,o){if(!a.isFile(e.node.mode))throw new a.ErrnoError(43);if(o&2)return 0;var u=D.stream_ops.write(e,n,0,t,r,!1);return 0}}},a={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof a.ErrnoError))throw e+" : "+mi();return pe(e.errno)},lookupPath:function(e,n){if(e=Y.resolve(a.cwd(),e),n=n||{},!e)return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var t in r)n[t]===void 0&&(n[t]=r[t]);if(n.recurse_count>8)throw new a.ErrnoError(32);for(var o=S.normalizeArray(e.split("/").filter(function(y){return!!y}),!1),u=a.root,l="/",s=0;s<o.length;s++){var f=s===o.length-1;if(f&&n.parent)break;if(u=a.lookupNode(u,o[s]),l=S.join2(l,o[s]),a.isMountpoint(u)&&(!f||f&&n.follow_mount)&&(u=u.mounted.root),!f||n.follow)for(var v=0;a.isLink(u.mode);){var c=a.readlink(l);l=Y.resolve(S.dirname(l),c);var m=a.lookupPath(l,{recurse_count:n.recurse_count});if(u=m.node,v++>40)throw new a.ErrnoError(32)}}return{path:l,node:u}},getPath:function(e){for(var n;;){if(a.isRoot(e)){var r=e.mount.mountpoint;return n?r[r.length-1]!=="/"?r+"/"+n:r+n:r}n=n?e.name+"/"+n:e.name,e=e.parent}},hashName:function(e,n){for(var r=0,t=0;t<n.length;t++)r=(r<<5)-r+n.charCodeAt(t)|0;return(e+r>>>0)%a.nameTable.length},hashAddNode:function(e){var n=a.hashName(e.parent.id,e.name);e.name_next=a.nameTable[n],a.nameTable[n]=e},hashRemoveNode:function(e){var n=a.hashName(e.parent.id,e.name);if(a.nameTable[n]===e)a.nameTable[n]=e.name_next;else for(var r=a.nameTable[n];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,n){var r=a.mayLookup(e);if(r)throw new a.ErrnoError(r,e);for(var t=a.hashName(e.id,n),o=a.nameTable[t];o;o=o.name_next){var u=o.name;if(o.parent.id===e.id&&u===n)return o}return a.lookup(e,n)},createNode:function(e,n,r,t){var o=new a.FSNode(e,n,r,t);return a.hashAddNode(o),o},destroyNode:function(e){a.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return(e&61440)===32768},isDir:function(e){return(e&61440)===16384},isLink:function(e){return(e&61440)===40960},isChrdev:function(e){return(e&61440)===8192},isBlkdev:function(e){return(e&61440)===24576},isFIFO:function(e){return(e&61440)===4096},isSocket:function(e){return(e&49152)===49152},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var n=a.flagModes[e];if(typeof n>"u")throw new Error("Unknown file open mode: "+e);return n},flagsToPermissionString:function(e){var n=["r","w","rw"][e&3];return e&512&&(n+="w"),n},nodePermissions:function(e,n){return a.ignorePermissions?0:n.indexOf("r")!==-1&&!(e.mode&292)||n.indexOf("w")!==-1&&!(e.mode&146)||n.indexOf("x")!==-1&&!(e.mode&73)?2:0},mayLookup:function(e){var n=a.nodePermissions(e,"x");return n||(e.node_ops.lookup?0:2)},mayCreate:function(e,n){try{var r=a.lookupNode(e,n);return 20}catch{}return a.nodePermissions(e,"wx")},mayDelete:function(e,n,r){var t;try{t=a.lookupNode(e,n)}catch(u){return u.errno}var o=a.nodePermissions(e,"wx");if(o)return o;if(r){if(!a.isDir(t.mode))return 54;if(a.isRoot(t)||a.getPath(t)===a.cwd())return 10}else if(a.isDir(t.mode))return 31;return 0},mayOpen:function(e,n){return e?a.isLink(e.mode)?32:a.isDir(e.mode)&&(a.flagsToPermissionString(n)!=="r"||n&512)?31:a.nodePermissions(e,a.flagsToPermissionString(n)):44},MAX_OPEN_FDS:4096,nextfd:function(e,n){e=e||0,n=n||a.MAX_OPEN_FDS;for(var r=e;r<=n;r++)if(!a.streams[r])return r;throw new a.ErrnoError(33)},getStream:function(e){return a.streams[e]},createStream:function(e,n,r){a.FSStream||(a.FSStream=function(){},a.FSStream.prototype={object:{get:function(){return this.node},set:function(l){this.node=l}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var t=new a.FSStream;for(var o in e)t[o]=e[o];e=t;var u=a.nextfd(n,r);return e.fd=u,a.streams[u]=e,e},closeStream:function(e){a.streams[e]=null},chrdev_stream_ops:{open:function(e){var n=a.getDevice(e.node.rdev);e.stream_ops=n.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new a.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return e&255},makedev:function(e,n){return e<<8|n},registerDevice:function(e,n){a.devices[e]={stream_ops:n}},getDevice:function(e){return a.devices[e]},getMounts:function(e){for(var n=[],r=[e];r.length;){var t=r.pop();n.push(t),r.push.apply(r,t.mounts)}return n},syncfs:function(e,n){typeof e=="function"&&(n=e,e=!1),a.syncFSRequests++,a.syncFSRequests>1&&x("warning: "+a.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var r=a.getMounts(a.root.mount),t=0;function o(l){return a.syncFSRequests--,n(l)}function u(l){if(l)return u.errored?void 0:(u.errored=!0,o(l));++t>=r.length&&o(null)}r.forEach(function(l){if(!l.type.syncfs)return u(null);l.type.syncfs(l,e,u)})},mount:function(e,n,r){var t=r==="/",o=!r,u;if(t&&a.root)throw new a.ErrnoError(10);if(!t&&!o){var l=a.lookupPath(r,{follow_mount:!1});if(r=l.path,u=l.node,a.isMountpoint(u))throw new a.ErrnoError(10);if(!a.isDir(u.mode))throw new a.ErrnoError(54)}var s={type:e,opts:n,mountpoint:r,mounts:[]},f=e.mount(s);return f.mount=s,s.root=f,t?a.root=f:u&&(u.mounted=s,u.mount&&u.mount.mounts.push(s)),f},unmount:function(e){var n=a.lookupPath(e,{follow_mount:!1});if(!a.isMountpoint(n.node))throw new a.ErrnoError(28);var r=n.node,t=r.mounted,o=a.getMounts(t);Object.keys(a.nameTable).forEach(function(l){for(var s=a.nameTable[l];s;){var f=s.name_next;o.indexOf(s.mount)!==-1&&a.destroyNode(s),s=f}}),r.mounted=null;var u=r.mount.mounts.indexOf(t);r.mount.mounts.splice(u,1)},lookup:function(e,n){return e.node_ops.lookup(e,n)},mknod:function(e,n,r){var t=a.lookupPath(e,{parent:!0}),o=t.node,u=S.basename(e);if(!u||u==="."||u==="..")throw new a.ErrnoError(28);var l=a.mayCreate(o,u);if(l)throw new a.ErrnoError(l);if(!o.node_ops.mknod)throw new a.ErrnoError(63);return o.node_ops.mknod(o,u,n,r)},create:function(e,n){return n=n!==void 0?n:438,n&=4095,n|=32768,a.mknod(e,n,0)},mkdir:function(e,n){return n=n!==void 0?n:511,n&=1023,n|=16384,a.mknod(e,n,0)},mkdirTree:function(e,n){for(var r=e.split("/"),t="",o=0;o<r.length;++o)if(!!r[o]){t+="/"+r[o];try{a.mkdir(t,n)}catch(u){if(u.errno!=20)throw u}}},mkdev:function(e,n,r){return typeof r>"u"&&(r=n,n=438),n|=8192,a.mknod(e,n,r)},symlink:function(e,n){if(!Y.resolve(e))throw new a.ErrnoError(44);var r=a.lookupPath(n,{parent:!0}),t=r.node;if(!t)throw new a.ErrnoError(44);var o=S.basename(n),u=a.mayCreate(t,o);if(u)throw new a.ErrnoError(u);if(!t.node_ops.symlink)throw new a.ErrnoError(63);return t.node_ops.symlink(t,o,e)},rename:function(e,n){var r=S.dirname(e),t=S.dirname(n),o=S.basename(e),u=S.basename(n),l,s,f;try{l=a.lookupPath(e,{parent:!0}),s=l.node,l=a.lookupPath(n,{parent:!0}),f=l.node}catch{throw new a.ErrnoError(10)}if(!s||!f)throw new a.ErrnoError(44);if(s.mount!==f.mount)throw new a.ErrnoError(75);var v=a.lookupNode(s,o),c=Y.relative(e,t);if(c.charAt(0)!==".")throw new a.ErrnoError(28);if(c=Y.relative(n,r),c.charAt(0)!==".")throw new a.ErrnoError(55);var m;try{m=a.lookupNode(f,u)}catch{}if(v!==m){var y=a.isDir(v.mode),p=a.mayDelete(s,o,y);if(p)throw new a.ErrnoError(p);if(p=m?a.mayDelete(f,u,y):a.mayCreate(f,u),p)throw new a.ErrnoError(p);if(!s.node_ops.rename)throw new a.ErrnoError(63);if(a.isMountpoint(v)||m&&a.isMountpoint(m))throw new a.ErrnoError(10);if(f!==s&&(p=a.nodePermissions(s,"w"),p))throw new a.ErrnoError(p);try{a.trackingDelegate.willMovePath&&a.trackingDelegate.willMovePath(e,n)}catch(P){x("FS.trackingDelegate['willMovePath']('"+e+"', '"+n+"') threw an exception: "+P.message)}a.hashRemoveNode(v);try{s.node_ops.rename(v,f,u)}catch(P){throw P}finally{a.hashAddNode(v)}try{a.trackingDelegate.onMovePath&&a.trackingDelegate.onMovePath(e,n)}catch(P){x("FS.trackingDelegate['onMovePath']('"+e+"', '"+n+"') threw an exception: "+P.message)}}},rmdir:function(e){var n=a.lookupPath(e,{parent:!0}),r=n.node,t=S.basename(e),o=a.lookupNode(r,t),u=a.mayDelete(r,t,!0);if(u)throw new a.ErrnoError(u);if(!r.node_ops.rmdir)throw new a.ErrnoError(63);if(a.isMountpoint(o))throw new a.ErrnoError(10);try{a.trackingDelegate.willDeletePath&&a.trackingDelegate.willDeletePath(e)}catch(l){x("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+l.message)}r.node_ops.rmdir(r,t),a.destroyNode(o);try{a.trackingDelegate.onDeletePath&&a.trackingDelegate.onDeletePath(e)}catch(l){x("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+l.message)}},readdir:function(e){var n=a.lookupPath(e,{follow:!0}),r=n.node;if(!r.node_ops.readdir)throw new a.ErrnoError(54);return r.node_ops.readdir(r)},unlink:function(e){var n=a.lookupPath(e,{parent:!0}),r=n.node,t=S.basename(e),o=a.lookupNode(r,t),u=a.mayDelete(r,t,!1);if(u)throw new a.ErrnoError(u);if(!r.node_ops.unlink)throw new a.ErrnoError(63);if(a.isMountpoint(o))throw new a.ErrnoError(10);try{a.trackingDelegate.willDeletePath&&a.trackingDelegate.willDeletePath(e)}catch(l){x("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+l.message)}r.node_ops.unlink(r,t),a.destroyNode(o);try{a.trackingDelegate.onDeletePath&&a.trackingDelegate.onDeletePath(e)}catch(l){x("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+l.message)}},readlink:function(e){var n=a.lookupPath(e),r=n.node;if(!r)throw new a.ErrnoError(44);if(!r.node_ops.readlink)throw new a.ErrnoError(28);return Y.resolve(a.getPath(r.parent),r.node_ops.readlink(r))},stat:function(e,n){var r=a.lookupPath(e,{follow:!n}),t=r.node;if(!t)throw new a.ErrnoError(44);if(!t.node_ops.getattr)throw new a.ErrnoError(63);return t.node_ops.getattr(t)},lstat:function(e){return a.stat(e,!0)},chmod:function(e,n,r){var t;if(typeof e=="string"){var o=a.lookupPath(e,{follow:!r});t=o.node}else t=e;if(!t.node_ops.setattr)throw new a.ErrnoError(63);t.node_ops.setattr(t,{mode:n&4095|t.mode&-4096,timestamp:Date.now()})},lchmod:function(e,n){a.chmod(e,n,!0)},fchmod:function(e,n){var r=a.getStream(e);if(!r)throw new a.ErrnoError(8);a.chmod(r.node,n)},chown:function(e,n,r,t){var o;if(typeof e=="string"){var u=a.lookupPath(e,{follow:!t});o=u.node}else o=e;if(!o.node_ops.setattr)throw new a.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,n,r){a.chown(e,n,r,!0)},fchown:function(e,n,r){var t=a.getStream(e);if(!t)throw new a.ErrnoError(8);a.chown(t.node,n,r)},truncate:function(e,n){if(n<0)throw new a.ErrnoError(28);var r;if(typeof e=="string"){var t=a.lookupPath(e,{follow:!0});r=t.node}else r=e;if(!r.node_ops.setattr)throw new a.ErrnoError(63);if(a.isDir(r.mode))throw new a.ErrnoError(31);if(!a.isFile(r.mode))throw new a.ErrnoError(28);var o=a.nodePermissions(r,"w");if(o)throw new a.ErrnoError(o);r.node_ops.setattr(r,{size:n,timestamp:Date.now()})},ftruncate:function(e,n){var r=a.getStream(e);if(!r)throw new a.ErrnoError(8);if((r.flags&2097155)===0)throw new a.ErrnoError(28);a.truncate(r.node,n)},utime:function(e,n,r){var t=a.lookupPath(e,{follow:!0}),o=t.node;o.node_ops.setattr(o,{timestamp:Math.max(n,r)})},open:function(e,n,r,t,o){if(e==="")throw new a.ErrnoError(44);n=typeof n=="string"?a.modeStringToFlags(n):n,r=typeof r>"u"?438:r,n&64?r=r&4095|32768:r=0;var u;if(typeof e=="object")u=e;else{e=S.normalize(e);try{var l=a.lookupPath(e,{follow:!(n&131072)});u=l.node}catch{}}var s=!1;if(n&64)if(u){if(n&128)throw new a.ErrnoError(20)}else u=a.mknod(e,r,0),s=!0;if(!u)throw new a.ErrnoError(44);if(a.isChrdev(u.mode)&&(n&=-513),n&65536&&!a.isDir(u.mode))throw new a.ErrnoError(54);if(!s){var f=a.mayOpen(u,n);if(f)throw new a.ErrnoError(f)}n&512&&a.truncate(u,0),n&=-131713;var v=a.createStream({node:u,path:a.getPath(u),flags:n,seekable:!0,position:0,stream_ops:u.stream_ops,ungotten:[],error:!1},t,o);v.stream_ops.open&&v.stream_ops.open(v),i.logReadFiles&&!(n&1)&&(a.readFiles||(a.readFiles={}),e in a.readFiles||(a.readFiles[e]=1,x("FS.trackingDelegate error on read file: "+e)));try{if(a.trackingDelegate.onOpenFile){var c=0;(n&2097155)!==1&&(c|=a.tracking.openFlags.READ),(n&2097155)!==0&&(c|=a.tracking.openFlags.WRITE),a.trackingDelegate.onOpenFile(e,c)}}catch(m){x("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+m.message)}return v},close:function(e){if(a.isClosed(e))throw new a.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(n){throw n}finally{a.closeStream(e.fd)}e.fd=null},isClosed:function(e){return e.fd===null},llseek:function(e,n,r){if(a.isClosed(e))throw new a.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new a.ErrnoError(70);if(r!=0&&r!=1&&r!=2)throw new a.ErrnoError(28);return e.position=e.stream_ops.llseek(e,n,r),e.ungotten=[],e.position},read:function(e,n,r,t,o){if(t<0||o<0)throw new a.ErrnoError(28);if(a.isClosed(e))throw new a.ErrnoError(8);if((e.flags&2097155)===1)throw new a.ErrnoError(8);if(a.isDir(e.node.mode))throw new a.ErrnoError(31);if(!e.stream_ops.read)throw new a.ErrnoError(28);var u=typeof o<"u";if(!u)o=e.position;else if(!e.seekable)throw new a.ErrnoError(70);var l=e.stream_ops.read(e,n,r,t,o);return u||(e.position+=l),l},write:function(e,n,r,t,o,u){if(t<0||o<0)throw new a.ErrnoError(28);if(a.isClosed(e))throw new a.ErrnoError(8);if((e.flags&2097155)===0)throw new a.ErrnoError(8);if(a.isDir(e.node.mode))throw new a.ErrnoError(31);if(!e.stream_ops.write)throw new a.ErrnoError(28);e.seekable&&e.flags&1024&&a.llseek(e,0,2);var l=typeof o<"u";if(!l)o=e.position;else if(!e.seekable)throw new a.ErrnoError(70);var s=e.stream_ops.write(e,n,r,t,o,u);l||(e.position+=s);try{e.path&&a.trackingDelegate.onWriteToFile&&a.trackingDelegate.onWriteToFile(e.path)}catch(f){x("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+f.message)}return s},allocate:function(e,n,r){if(a.isClosed(e))throw new a.ErrnoError(8);if(n<0||r<=0)throw new a.ErrnoError(28);if((e.flags&2097155)===0)throw new a.ErrnoError(8);if(!a.isFile(e.node.mode)&&!a.isDir(e.node.mode))throw new a.ErrnoError(43);if(!e.stream_ops.allocate)throw new a.ErrnoError(138);e.stream_ops.allocate(e,n,r)},mmap:function(e,n,r,t,o,u){if((o&2)!==0&&(u&2)===0&&(e.flags&2097155)!==2)throw new a.ErrnoError(2);if((e.flags&2097155)===1)throw new a.ErrnoError(2);if(!e.stream_ops.mmap)throw new a.ErrnoError(43);return e.stream_ops.mmap(e,n,r,t,o,u)},msync:function(e,n,r,t,o){return!e||!e.stream_ops.msync?0:e.stream_ops.msync(e,n,r,t,o)},munmap:function(e){return 0},ioctl:function(e,n,r){if(!e.stream_ops.ioctl)throw new a.ErrnoError(59);return e.stream_ops.ioctl(e,n,r)},readFile:function(e,n){if(n=n||{},n.flags=n.flags||"r",n.encoding=n.encoding||"binary",n.encoding!=="utf8"&&n.encoding!=="binary")throw new Error('Invalid encoding type "'+n.encoding+'"');var r,t=a.open(e,n.flags),o=a.stat(e),u=o.size,l=new Uint8Array(u);return a.read(t,l,0,u,0),n.encoding==="utf8"?r=re(l,0):n.encoding==="binary"&&(r=l),a.close(t),r},writeFile:function(e,n,r){r=r||{},r.flags=r.flags||"w";var t=a.open(e,r.flags,r.mode);if(typeof n=="string"){var o=new Uint8Array(je(n)+1),u=De(n,o,0,o.length);a.write(t,o,0,u,void 0,r.canOwn)}else if(ArrayBuffer.isView(n))a.write(t,n,0,n.byteLength,void 0,r.canOwn);else throw new Error("Unsupported data type");a.close(t)},cwd:function(){return a.currentPath},chdir:function(e){var n=a.lookupPath(e,{follow:!0});if(n.node===null)throw new a.ErrnoError(44);if(!a.isDir(n.node.mode))throw new a.ErrnoError(54);var r=a.nodePermissions(n.node,"x");if(r)throw new a.ErrnoError(r);a.currentPath=n.path},createDefaultDirectories:function(){a.mkdir("/tmp"),a.mkdir("/home"),a.mkdir("/home/web_user")},createDefaultDevices:function(){a.mkdir("/dev"),a.registerDevice(a.makedev(1,3),{read:function(){return 0},write:function(t,o,u,l,s){return l}}),a.mkdev("/dev/null",a.makedev(1,3)),J.register(a.makedev(5,0),J.default_tty_ops),J.register(a.makedev(6,0),J.default_tty1_ops),a.mkdev("/dev/tty",a.makedev(5,0)),a.mkdev("/dev/tty1",a.makedev(6,0));var e;if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var n=new Uint8Array(1);e=function(){return crypto.getRandomValues(n),n[0]}}else if(ee)try{var r=_e("crypto");e=function(){return r.randomBytes(1)[0]}}catch{}e||(e=function(){O("random_device")}),a.createDevice("/dev","random",e),a.createDevice("/dev","urandom",e),a.mkdir("/dev/shm"),a.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){a.mkdir("/proc"),a.mkdir("/proc/self"),a.mkdir("/proc/self/fd"),a.mount({mount:function(){var e=a.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(n,r){var t=+r,o=a.getStream(t);if(!o)throw new a.ErrnoError(8);var u={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return o.path}}};return u.parent=u,u}},e}},{},"/proc/self/fd")},createStandardStreams:function(){i.stdin?a.createDevice("/dev","stdin",i.stdin):a.symlink("/dev/tty","/dev/stdin"),i.stdout?a.createDevice("/dev","stdout",null,i.stdout):a.symlink("/dev/tty","/dev/stdout"),i.stderr?a.createDevice("/dev","stderr",null,i.stderr):a.symlink("/dev/tty1","/dev/stderr");var e=a.open("/dev/stdin","r"),n=a.open("/dev/stdout","w"),r=a.open("/dev/stderr","w")},ensureErrnoError:function(){a.ErrnoError||(a.ErrnoError=function(n,r){this.node=r,this.setErrno=function(t){this.errno=t},this.setErrno(n),this.message="FS error"},a.ErrnoError.prototype=new Error,a.ErrnoError.prototype.constructor=a.ErrnoError,[44].forEach(function(e){a.genericErrors[e]=new a.ErrnoError(e),a.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){a.ensureErrnoError(),a.nameTable=new Array(4096),a.mount(D,{},"/"),a.createDefaultDirectories(),a.createDefaultDevices(),a.createSpecialDirectories(),a.filesystems={MEMFS:D}},init:function(e,n,r){a.init.initialized=!0,a.ensureErrnoError(),i.stdin=e||i.stdin,i.stdout=n||i.stdout,i.stderr=r||i.stderr,a.createStandardStreams()},quit:function(){a.init.initialized=!1;var e=i._fflush;e&&e(0);for(var n=0;n<a.streams.length;n++){var r=a.streams[n];!r||a.close(r)}},getMode:function(e,n){var r=0;return e&&(r|=365),n&&(r|=146),r},joinPath:function(e,n){var r=S.join.apply(null,e);return n&&r[0]=="/"&&(r=r.substr(1)),r},absolutePath:function(e,n){return Y.resolve(n,e)},standardizePath:function(e){return S.normalize(e)},findObject:function(e,n){var r=a.analyzePath(e,n);return r.exists?r.object:(pe(r.error),null)},analyzePath:function(e,n){try{var r=a.lookupPath(e,{follow:!n});e=r.path}catch{}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=a.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=r.path,t.parentObject=r.node,t.name=S.basename(e),r=a.lookupPath(e,{follow:!n}),t.exists=!0,t.path=r.path,t.object=r.node,t.name=r.node.name,t.isRoot=r.path==="/"}catch(o){t.error=o.errno}return t},createFolder:function(e,n,r,t){var o=S.join2(typeof e=="string"?e:a.getPath(e),n),u=a.getMode(r,t);return a.mkdir(o,u)},createPath:function(e,n,r,t){e=typeof e=="string"?e:a.getPath(e);for(var o=n.split("/").reverse();o.length;){var u=o.pop();if(!!u){var l=S.join2(e,u);try{a.mkdir(l)}catch{}e=l}}return l},createFile:function(e,n,r,t,o){var u=S.join2(typeof e=="string"?e:a.getPath(e),n),l=a.getMode(t,o);return a.create(u,l)},createDataFile:function(e,n,r,t,o,u){var l=n?S.join2(typeof e=="string"?e:a.getPath(e),n):e,s=a.getMode(t,o),f=a.create(l,s);if(r){if(typeof r=="string"){for(var v=new Array(r.length),c=0,m=r.length;c<m;++c)v[c]=r.charCodeAt(c);r=v}a.chmod(f,s|146);var y=a.open(f,"w");a.write(y,r,0,r.length,0,u),a.close(y),a.chmod(f,s)}return f},createDevice:function(e,n,r,t){var o=S.join2(typeof e=="string"?e:a.getPath(e),n),u=a.getMode(!!r,!!t);a.createDevice.major||(a.createDevice.major=64);var l=a.makedev(a.createDevice.major++,0);return a.registerDevice(l,{open:function(s){s.seekable=!1},close:function(s){t&&t.buffer&&t.buffer.length&&t(10)},read:function(s,f,v,c,m){for(var y=0,p=0;p<c;p++){var P;try{P=r()}catch{throw new a.ErrnoError(29)}if(P===void 0&&y===0)throw new a.ErrnoError(6);if(P==null)break;y++,f[v+p]=P}return y&&(s.node.timestamp=Date.now()),y},write:function(s,f,v,c,m){for(var y=0;y<c;y++)try{t(f[v+y])}catch{throw new a.ErrnoError(29)}return c&&(s.node.timestamp=Date.now()),y}}),a.mkdev(o,u,l)},createLink:function(e,n,r,t,o){var u=S.join2(typeof e=="string"?e:a.getPath(e),n);return a.symlink(r,u)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var n=!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(ne)try{e.contents=Be(ne(e.url),!0),e.usedBytes=e.contents.length}catch{n=!1}else throw new Error("Cannot load without read() or XMLHttpRequest.");return n||pe(29),n},createLazyFile:function(e,n,r,t,o){function u(){this.lengthKnown=!1,this.chunks=[]}if(u.prototype.get=function(y){if(!(y>this.length-1||y<0)){var p=y%this.chunkSize,P=y/this.chunkSize|0;return this.getter(P)[p]}},u.prototype.setDataGetter=function(y){this.getter=y},u.prototype.cacheLength=function(){var y=new XMLHttpRequest;if(y.open("HEAD",r,!1),y.send(null),!(y.status>=200&&y.status<300||y.status===304))throw new Error("Couldn't load "+r+". Status: "+y.status);var p=Number(y.getResponseHeader("Content-length")),P,R=(P=y.getResponseHeader("Accept-Ranges"))&&P==="bytes",U=(P=y.getResponseHeader("Content-Encoding"))&&P==="gzip",I=1024*1024;R||(I=p);var G=function(z,ae){if(z>ae)throw new Error("invalid range ("+z+", "+ae+") or no bytes requested!");if(ae>p-1)throw new Error("only "+p+" bytes available! programmer error!");var L=new XMLHttpRequest;if(L.open("GET",r,!1),p!==I&&L.setRequestHeader("Range","bytes="+z+"-"+ae),typeof Uint8Array<"u"&&(L.responseType="arraybuffer"),L.overrideMimeType&&L.overrideMimeType("text/plain; charset=x-user-defined"),L.send(null),!(L.status>=200&&L.status<300||L.status===304))throw new Error("Couldn't load "+r+". Status: "+L.status);return L.response!==void 0?new Uint8Array(L.response||[]):Be(L.responseText||"",!0)},N=this;N.setDataGetter(function(z){var ae=z*I,L=(z+1)*I-1;if(L=Math.min(L,p-1),typeof N.chunks[z]>"u"&&(N.chunks[z]=G(ae,L)),typeof N.chunks[z]>"u")throw new Error("doXHR failed!");return N.chunks[z]}),(U||!p)&&(I=p=1,p=this.getter(0).length,I=p,ue("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=p,this._chunkSize=I,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!V)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var l=new u;Object.defineProperties(l,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:l}}else var s={isDevice:!1,url:r};var f=a.createFile(e,n,s,t,o);s.contents?f.contents=s.contents:s.url&&(f.contents=null,f.url=s.url),Object.defineProperties(f,{usedBytes:{get:function(){return this.contents.length}}});var v={},c=Object.keys(f.stream_ops);return c.forEach(function(m){var y=f.stream_ops[m];v[m]=function(){if(!a.forceLoadFile(f))throw new a.ErrnoError(29);return y.apply(null,arguments)}}),v.read=function(y,p,P,R,U){if(!a.forceLoadFile(f))throw new a.ErrnoError(29);var I=y.node.contents;if(U>=I.length)return 0;var G=Math.min(I.length-U,R);if(I.slice)for(var N=0;N<G;N++)p[P+N]=I[U+N];else for(var N=0;N<G;N++)p[P+N]=I.get(U+N);return G},f.stream_ops=v,f},createPreloadedFile:function(e,n,r,t,o,u,l,s,f,v){Browser.init();var c=n?Y.resolve(S.join2(e,n)):e,m="cp "+c;function y(p){function P(U){v&&v(),s||a.createDataFile(e,n,U,t,o,f),u&&u(),xe(m)}var R=!1;i.preloadPlugins.forEach(function(U){R||U.canHandle(c)&&(U.handle(p,c,P,function(){l&&l(),xe(m)}),R=!0)}),R||P(p)}rn(m),typeof r=="string"?Browser.asyncLoad(r,function(p){y(p)},l):y(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,n,r){n=n||function(){},r=r||function(){};var t=a.indexedDB();try{var o=t.open(a.DB_NAME(),a.DB_VERSION)}catch(u){return r(u)}o.onupgradeneeded=function(){ue("creating db");var l=o.result;l.createObjectStore(a.DB_STORE_NAME)},o.onsuccess=function(){var l=o.result,s=l.transaction([a.DB_STORE_NAME],"readwrite"),f=s.objectStore(a.DB_STORE_NAME),v=0,c=0,m=e.length;function y(){c==0?n():r()}e.forEach(function(p){var P=f.put(a.analyzePath(p).object.contents,p);P.onsuccess=function(){v++,v+c==m&&y()},P.onerror=function(){c++,v+c==m&&y()}}),s.onerror=r},o.onerror=r},loadFilesFromDB:function(e,n,r){n=n||function(){},r=r||function(){};var t=a.indexedDB();try{var o=t.open(a.DB_NAME(),a.DB_VERSION)}catch(u){return r(u)}o.onupgradeneeded=r,o.onsuccess=function(){var l=o.result;try{var s=l.transaction([a.DB_STORE_NAME],"readonly")}catch(p){r(p);return}var f=s.objectStore(a.DB_STORE_NAME),v=0,c=0,m=e.length;function y(){c==0?n():r()}e.forEach(function(p){var P=f.get(p);P.onsuccess=function(){a.analyzePath(p).exists&&a.unlink(p),a.createDataFile(S.dirname(p),S.basename(p),P.result,!0,!0,!0),v++,v+c==m&&y()},P.onerror=function(){c++,v+c==m&&y()}}),s.onerror=r},o.onerror=r}},M={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,n){if(n[0]!=="/"){var r;if(e===-100)r=a.cwd();else{var t=a.getStream(e);if(!t)throw new a.ErrnoError(8);r=t.path}n=S.join2(r,n)}return n},doStat:function(e,n,r){try{var t=e(n)}catch(o){if(o&&o.node&&S.normalize(n)!==S.normalize(a.getPath(o.node)))return-54;throw o}return b[r>>2]=t.dev,b[r+4>>2]=0,b[r+8>>2]=t.ino,b[r+12>>2]=t.mode,b[r+16>>2]=t.nlink,b[r+20>>2]=t.uid,b[r+24>>2]=t.gid,b[r+28>>2]=t.rdev,b[r+32>>2]=0,K=[t.size>>>0,(B=t.size,+Se(B)>=1?B>0?(Fe(+Me(B/4294967296),4294967295)|0)>>>0:~~+Re((B-+(~~B>>>0))/4294967296)>>>0:0)],b[r+40>>2]=K[0],b[r+44>>2]=K[1],b[r+48>>2]=4096,b[r+52>>2]=t.blocks,b[r+56>>2]=t.atime.getTime()/1e3|0,b[r+60>>2]=0,b[r+64>>2]=t.mtime.getTime()/1e3|0,b[r+68>>2]=0,b[r+72>>2]=t.ctime.getTime()/1e3|0,b[r+76>>2]=0,K=[t.ino>>>0,(B=t.ino,+Se(B)>=1?B>0?(Fe(+Me(B/4294967296),4294967295)|0)>>>0:~~+Re((B-+(~~B>>>0))/4294967296)>>>0:0)],b[r+80>>2]=K[0],b[r+84>>2]=K[1],0},doMsync:function(e,n,r,t,o){var u=te.slice(e,e+r);a.msync(n,u,o,r,t)},doMkdir:function(e,n){return e=S.normalize(e),e[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),a.mkdir(e,n,0),0},doMknod:function(e,n,r){switch(n&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return a.mknod(e,n,r),0},doReadlink:function(e,n,r){if(r<=0)return-28;var t=a.readlink(e),o=Math.min(r,je(t)),u=q[n+o];return Ae(t,n,r+1),q[n+o]=u,o},doAccess:function(e,n){if(n&-8)return-28;var r,t=a.lookupPath(e,{follow:!0});if(r=t.node,!r)return-44;var o="";return n&4&&(o+="r"),n&2&&(o+="w"),n&1&&(o+="x"),o&&a.nodePermissions(r,o)?-2:0},doDup:function(e,n,r){var t=a.getStream(r);return t&&a.close(t),a.open(e,n,0,r,r).fd},doReadv:function(e,n,r,t){for(var o=0,u=0;u<r;u++){var l=b[n+u*8>>2],s=b[n+(u*8+4)>>2],f=a.read(e,q,l,s,t);if(f<0)return-1;if(o+=f,f<s)break}return o},doWritev:function(e,n,r,t){for(var o=0,u=0;u<r;u++){var l=b[n+u*8>>2],s=b[n+(u*8+4)>>2],f=a.write(e,q,l,s,t);if(f<0)return-1;o+=f}return o},varargs:void 0,get:function(){M.varargs+=4;var e=b[M.varargs-4>>2];return e},getStr:function(e){var n=Ye(e);return n},getStreamFromFD:function(e){var n=a.getStream(e);if(!n)throw new a.ErrnoError(8);return n},get64:function(e,n){return e}};function pi(e,n,r){M.varargs=r;try{var t=M.getStreamFromFD(e);switch(n){case 0:{var o=M.get();if(o<0)return-28;var u;return u=a.open(t.path,t.flags,0,o),u.fd}case 1:case 2:return 0;case 3:return t.flags;case 4:{var o=M.get();return t.flags|=o,0}case 12:{var o=M.get(),l=0;return Ke[o+l>>1]=2,0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:return pe(28),-1;default:return-28}}catch(s){return(typeof a>"u"||!(s instanceof a.ErrnoError))&&O(s),-s.errno}}function yi(e,n,r){M.varargs=r;try{var t=M.getStreamFromFD(e);switch(n){case 21509:case 21505:return t.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return t.tty?0:-59;case 21519:{if(!t.tty)return-59;var o=M.get();return b[o>>2]=0,0}case 21520:return t.tty?-28:-59;case 21531:{var o=M.get();return a.ioctl(t,n,o)}case 21523:return t.tty?0:-59;case 21524:return t.tty?0:-59;default:O("bad ioctl syscall "+n)}}catch(u){return(typeof a>"u"||!(u instanceof a.ErrnoError))&&O(u),-u.errno}}function hi(e,n,r){M.varargs=r;try{var t=M.getStr(e),o=M.get(),u=a.open(t,n,o);return u.fd}catch(l){return(typeof a>"u"||!(l instanceof a.ErrnoError))&&O(l),-l.errno}}function gi(e){try{return e=M.getStr(e),a.rmdir(e),0}catch(n){return(typeof a>"u"||!(n instanceof a.ErrnoError))&&O(n),-n.errno}}function _i(e,n){try{return e=M.getStr(e),M.doStat(a.stat,e,n)}catch(r){return(typeof a>"u"||!(r instanceof a.ErrnoError))&&O(r),-r.errno}}function wi(e){try{return e=M.getStr(e),a.unlink(e),0}catch(n){return(typeof a>"u"||!(n instanceof a.ErrnoError))&&O(n),-n.errno}}function Ei(e,n){throw h(e,n||1),"longjmp"}function ki(e,n){Ei(e,n)}function bi(e,n,r){te.copyWithin(e,n,n+r)}function Ci(){return te.length}function Pi(e){try{return Q.grow(e-ie.byteLength+65535>>>16),Je(Q.buffer),1}catch{}}function Di(e){e=e>>>0;var n=Ci(),r=65536,t=2147483648;if(e>t)return!1;for(var o=16777216,u=1;u<=4;u*=2){var l=n*(1+.2/u);l=Math.min(l,e+100663296);var s=Math.min(t,Gr(Math.max(o,e,l),r)),f=Pi(s);if(f)return!0}return!1}var ln={};function Ai(){return $||"./this.program"}function fe(){if(!fe.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ai()};for(var n in ln)e[n]=ln[n];var r=[];for(var n in e)r.push(n+"="+e[n]);fe.strings=r}return fe.strings}function ji(e,n){var r=0;return fe().forEach(function(t,o){var u=n+r;b[e+o*4>>2]=u,Vr(t,u),r+=t.length+1}),0}function Si(e,n){var r=fe();b[e>>2]=r.length;var t=0;return r.forEach(function(o){t+=o.length+1}),b[n>>2]=t,0}function Ri(e){ka(e)}function Mi(e){try{var n=M.getStreamFromFD(e);return a.close(n),0}catch(r){return(typeof a>"u"||!(r instanceof a.ErrnoError))&&O(r),r.errno}}function Fi(e,n,r,t){try{var o=M.getStreamFromFD(e),u=M.doReadv(o,n,r);return b[t>>2]=u,0}catch(l){return(typeof a>"u"||!(l instanceof a.ErrnoError))&&O(l),l.errno}}function Ti(e,n,r,t,o){try{var u=M.getStreamFromFD(e),l=4294967296,s=r*l+(n>>>0),f=9007199254740992;return s<=-f||s>=f?-61:(a.llseek(u,s,t),K=[u.position>>>0,(B=u.position,+Se(B)>=1?B>0?(Fe(+Me(B/4294967296),4294967295)|0)>>>0:~~+Re((B-+(~~B>>>0))/4294967296)>>>0:0)],b[o>>2]=K[0],b[o+4>>2]=K[1],u.getdents&&s===0&&t===0&&(u.getdents=null),0)}catch(v){return(typeof a>"u"||!(v instanceof a.ErrnoError))&&O(v),v.errno}}function xi(e,n,r,t){try{var o=M.getStreamFromFD(e),u=M.doWritev(o,n,r);return b[t>>2]=u,0}catch(l){return(typeof a>"u"||!(l instanceof a.ErrnoError))&&O(l),l.errno}}function Bi(){return Ur()|0}var Ii=2104816,Ni=(Ae("GMT",2104864,4),2104864);function Li(e,n){var r=new Date(b[e>>2]*1e3);b[n>>2]=r.getUTCSeconds(),b[n+4>>2]=r.getUTCMinutes(),b[n+8>>2]=r.getUTCHours(),b[n+12>>2]=r.getUTCDate(),b[n+16>>2]=r.getUTCMonth(),b[n+20>>2]=r.getUTCFullYear()-1900,b[n+24>>2]=r.getUTCDay(),b[n+36>>2]=0,b[n+32>>2]=0;var t=Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0),o=(r.getTime()-t)/(1e3*60*60*24)|0;return b[n+28>>2]=o,b[n+40>>2]=Ni,n}function Oi(e){return Li(e,Ii)}function Ui(e){Or(e|0)}function zi(e){var n=Date.now()/1e3|0;return e&&(b[e>>2]=n),n}var sn=function(e,n,r,t){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=a.nextInode++,this.name=n,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=t},ye=365,he=146;Object.defineProperties(sn.prototype,{read:{get:function(){return(this.mode&ye)===ye},set:function(e){e?this.mode|=ye:this.mode&=~ye}},write:{get:function(){return(this.mode&he)===he},set:function(e){e?this.mode|=he:this.mode&=~he}},isFolder:{get:function(){return a.isDir(this.mode)}},isDevice:{get:function(){return a.isChrdev(this.mode)}}}),a.FSNode=sn,a.staticInit();function Be(e,n,r){var t=r>0?r:je(e)+1,o=new Array(t),u=De(e,o,0,o.length);return n&&(o.length=u),o}var Hi={Q:pi,xa:yi,Aa:hi,ya:gi,Ba:_i,za:wi,c:ki,sa:bi,ta:Di,ua:ji,va:Si,ba:Ri,R:Mi,wa:Fi,fa:Ti,P:xi,a:Bi,X:Oi,v:Gt,o:Vt,E:qt,h:lt,_:Ht,d:st,Ia:mt,N:Mt,ca:Bt,e:ut,Ga:Wt,k:yt,Ca:la,I:Zt,ea:At,Y:ea,da:Ft,m:pt,p:gt,s:dt,w:jt,G:_t,aa:Lt,L:Ot,Ha:Nt,pa:da,ga:Ea,qa:ca,ha:wa,na:ma,ma:pa,ia:_a,j:ct,f:ft,$:zt,x:Rt,u:St,U:oa,z:Xt,C:ia,S:sa,V:aa,i:ht,Da:Kt,W:ta,Z:Jt,g:vt,T:ua,t:ra,B:Ct,l:Et,Ea:$t,Fa:Yt,n:wt,F:bt,q:Pt,D:Dt,y:kt,K:Qt,r:xt,H:na,M:It,J:Tt,A:Ut,la:ya,oa:va,ka:ha,ja:ga,ra:fa,memory:Q,b:Ui,table:zr,O:zi},za=ci(),fn=i.___wasm_call_ctors=function(){return(fn=i.___wasm_call_ctors=i.asm.Ja).apply(null,arguments)},Wi=i._initContext=function(){return(Wi=i._initContext=i.asm.Ka).apply(null,arguments)},Vi=i._openDocument=function(){return(Vi=i._openDocument=i.asm.La).apply(null,arguments)},Gi=i._freeDocument=function(){return(Gi=i._freeDocument=i.asm.Ma).apply(null,arguments)},qi=i._countPages=function(){return(qi=i._countPages=i.asm.Na).apply(null,arguments)},Xi=i._drawPageAsHTML=function(){return(Xi=i._drawPageAsHTML=i.asm.Oa).apply(null,arguments)},Yi=i._drawPageAsSVG=function(){return(Yi=i._drawPageAsSVG=i.asm.Pa).apply(null,arguments)},$i=i._drawPageAsPNG=function(){return($i=i._drawPageAsPNG=i.asm.Qa).apply(null,arguments)},Ki=i._pageWidth=function(){return(Ki=i._pageWidth=i.asm.Ra).apply(null,arguments)},Ji=i._pageHeight=function(){return(Ji=i._pageHeight=i.asm.Sa).apply(null,arguments)},Qi=i._pageLinks=function(){return(Qi=i._pageLinks=i.asm.Ta).apply(null,arguments)},Zi=i._documentTitle=function(){return(Zi=i._documentTitle=i.asm.Ua).apply(null,arguments)},et=i._loadOutline=function(){return(et=i._loadOutline=i.asm.Va).apply(null,arguments)},nt=i._freeOutline=function(){return(nt=i._freeOutline=i.asm.Wa).apply(null,arguments)},rt=i._outlineTitle=function(){return(rt=i._outlineTitle=i.asm.Xa).apply(null,arguments)},it=i._outlinePage=function(){return(it=i._outlinePage=i.asm.Ya).apply(null,arguments)},tt=i._outlineDown=function(){return(tt=i._outlineDown=i.asm.Za).apply(null,arguments)},at=i._outlineNext=function(){return(at=i._outlineNext=i.asm._a).apply(null,arguments)},cn=i._malloc=function(){return(cn=i._malloc=i.asm.$a).apply(null,arguments)},dn=i.___errno_location=function(){return(dn=i.___errno_location=i.asm.ab).apply(null,arguments)},h=i._setThrew=function(){return(h=i._setThrew=i.asm.bb).apply(null,arguments)},g=i.stackSave=function(){return(g=i.stackSave=i.asm.cb).apply(null,arguments)},_=i.stackRestore=function(){return(_=i.stackRestore=i.asm.db).apply(null,arguments)},Ie=i.stackAlloc=function(){return(Ie=i.stackAlloc=i.asm.eb).apply(null,arguments)},ot=i.dynCall_v=function(){return(ot=i.dynCall_v=i.asm.fb).apply(null,arguments)},vn=i.dynCall_vi=function(){return(vn=i.dynCall_vi=i.asm.gb).apply(null,arguments)},mn=i.dynCall_vii=function(){return(mn=i.dynCall_vii=i.asm.hb).apply(null,arguments)},pn=i.dynCall_viii=function(){return(pn=i.dynCall_viii=i.asm.ib).apply(null,arguments)},yn=i.dynCall_viiii=function(){return(yn=i.dynCall_viiii=i.asm.jb).apply(null,arguments)},hn=i.dynCall_viiiii=function(){return(hn=i.dynCall_viiiii=i.asm.kb).apply(null,arguments)},gn=i.dynCall_viiiiii=function(){return(gn=i.dynCall_viiiiii=i.asm.lb).apply(null,arguments)},_n=i.dynCall_viiiiiii=function(){return(_n=i.dynCall_viiiiiii=i.asm.mb).apply(null,arguments)},wn=i.dynCall_viiiiiiii=function(){return(wn=i.dynCall_viiiiiiii=i.asm.nb).apply(null,arguments)},En=i.dynCall_viiiiiiiii=function(){return(En=i.dynCall_viiiiiiiii=i.asm.ob).apply(null,arguments)},kn=i.dynCall_viiiiiiiiii=function(){return(kn=i.dynCall_viiiiiiiiii=i.asm.pb).apply(null,arguments)},bn=i.dynCall_viiiiiiiiiii=function(){return(bn=i.dynCall_viiiiiiiiiii=i.asm.qb).apply(null,arguments)},Cn=i.dynCall_viiiiiiiiiiiii=function(){return(Cn=i.dynCall_viiiiiiiiiiiii=i.asm.rb).apply(null,arguments)},Pn=i.dynCall_viiiiiiif=function(){return(Pn=i.dynCall_viiiiiiif=i.asm.sb).apply(null,arguments)},Dn=i.dynCall_viiiiiiifi=function(){return(Dn=i.dynCall_viiiiiiifi=i.asm.tb).apply(null,arguments)},An=i.dynCall_viiiiiiifiifffffiii=function(){return(An=i.dynCall_viiiiiiifiifffffiii=i.asm.ub).apply(null,arguments)},jn=i.dynCall_viiiiiifi=function(){return(jn=i.dynCall_viiiiiifi=i.asm.vb).apply(null,arguments)},Sn=i.dynCall_viiiiifii=function(){return(Sn=i.dynCall_viiiiifii=i.asm.wb).apply(null,arguments)},Rn=i.dynCall_viiiiiffifi=function(){return(Rn=i.dynCall_viiiiiffifi=i.asm.xb).apply(null,arguments)},Mn=i.dynCall_viiiif=function(){return(Mn=i.dynCall_viiiif=i.asm.yb).apply(null,arguments)},Fn=i.dynCall_viiiifi=function(){return(Fn=i.dynCall_viiiifi=i.asm.zb).apply(null,arguments)},Tn=i.dynCall_viiiiff=function(){return(Tn=i.dynCall_viiiiff=i.asm.Ab).apply(null,arguments)},xn=i.dynCall_viiij=function(){return(xn=i.dynCall_viiij=i.asm.Bb).apply(null,arguments)},Bn=i.dynCall_viiif=function(){return(Bn=i.dynCall_viiif=i.asm.Cb).apply(null,arguments)},In=i.dynCall_viiifffffiii=function(){return(In=i.dynCall_viiifffffiii=i.asm.Db).apply(null,arguments)},Nn=i.dynCall_viiid=function(){return(Nn=i.dynCall_viiid=i.asm.Eb).apply(null,arguments)},Ln=i.dynCall_viij=function(){return(Ln=i.dynCall_viij=i.asm.Fb).apply(null,arguments)},On=i.dynCall_viiji=function(){return(On=i.dynCall_viiji=i.asm.Gb).apply(null,arguments)},Un=i.dynCall_viijii=function(){return(Un=i.dynCall_viijii=i.asm.Hb).apply(null,arguments)},zn=i.dynCall_viif=function(){return(zn=i.dynCall_viif=i.asm.Ib).apply(null,arguments)},Hn=i.dynCall_viiff=function(){return(Hn=i.dynCall_viiff=i.asm.Jb).apply(null,arguments)},Wn=i.dynCall_viiffii=function(){return(Wn=i.dynCall_viiffii=i.asm.Kb).apply(null,arguments)},Vn=i.dynCall_viifff=function(){return(Vn=i.dynCall_viifff=i.asm.Lb).apply(null,arguments)},Gn=i.dynCall_viifffiiff=function(){return(Gn=i.dynCall_viifffiiff=i.asm.Mb).apply(null,arguments)},qn=i.dynCall_viiffff=function(){return(qn=i.dynCall_viiffff=i.asm.Nb).apply(null,arguments)},Xn=i.dynCall_viiffffff=function(){return(Xn=i.dynCall_viiffffff=i.asm.Ob).apply(null,arguments)},Yn=i.dynCall_viid=function(){return(Yn=i.dynCall_viid=i.asm.Pb).apply(null,arguments)},$n=i.dynCall_vij=function(){return($n=i.dynCall_vij=i.asm.Qb).apply(null,arguments)},Kn=i.dynCall_ii=function(){return(Kn=i.dynCall_ii=i.asm.Rb).apply(null,arguments)},Jn=i.dynCall_iii=function(){return(Jn=i.dynCall_iii=i.asm.Sb).apply(null,arguments)},Qn=i.dynCall_iiii=function(){return(Qn=i.dynCall_iiii=i.asm.Tb).apply(null,arguments)},Zn=i.dynCall_iiiii=function(){return(Zn=i.dynCall_iiiii=i.asm.Ub).apply(null,arguments)},er=i.dynCall_iiiiii=function(){return(er=i.dynCall_iiiiii=i.asm.Vb).apply(null,arguments)},nr=i.dynCall_iiiiiii=function(){return(nr=i.dynCall_iiiiiii=i.asm.Wb).apply(null,arguments)},rr=i.dynCall_iiiiiiii=function(){return(rr=i.dynCall_iiiiiiii=i.asm.Xb).apply(null,arguments)},ir=i.dynCall_iiiiiiiii=function(){return(ir=i.dynCall_iiiiiiiii=i.asm.Yb).apply(null,arguments)},tr=i.dynCall_iiiiiiiiii=function(){return(tr=i.dynCall_iiiiiiiiii=i.asm.Zb).apply(null,arguments)},ar=i.dynCall_iiiiiiiiiii=function(){return(ar=i.dynCall_iiiiiiiiiii=i.asm._b).apply(null,arguments)},or=i.dynCall_iiiiiiiiiiiiii=function(){return(or=i.dynCall_iiiiiiiiiiiiii=i.asm.$b).apply(null,arguments)},ur=i.dynCall_iiiiiiiiiiiiiiiii=function(){return(ur=i.dynCall_iiiiiiiiiiiiiiiii=i.asm.ac).apply(null,arguments)},lr=i.dynCall_iiiiiiiij=function(){return(lr=i.dynCall_iiiiiiiij=i.asm.bc).apply(null,arguments)},sr=i.dynCall_iiiiij=function(){return(sr=i.dynCall_iiiiij=i.asm.cc).apply(null,arguments)},fr=i.dynCall_iiiiifiii=function(){return(fr=i.dynCall_iiiiifiii=i.asm.dc).apply(null,arguments)},cr=i.dynCall_iiiiiffi=function(){return(cr=i.dynCall_iiiiiffi=i.asm.ec).apply(null,arguments)},dr=i.dynCall_iiiiiffii=function(){return(dr=i.dynCall_iiiiiffii=i.asm.fc).apply(null,arguments)},vr=i.dynCall_iiiiiffiifii=function(){return(vr=i.dynCall_iiiiiffiifii=i.asm.gc).apply(null,arguments)},mr=i.dynCall_iiiiifffiiii=function(){return(mr=i.dynCall_iiiiifffiiii=i.asm.hc).apply(null,arguments)},pr=i.dynCall_iiiij=function(){return(pr=i.dynCall_iiiij=i.asm.ic).apply(null,arguments)},yr=i.dynCall_iiiif=function(){return(yr=i.dynCall_iiiif=i.asm.jc).apply(null,arguments)},hr=i.dynCall_iiiji=function(){return(hr=i.dynCall_iiiji=i.asm.kc).apply(null,arguments)},gr=i.dynCall_iiiffiiiiiii=function(){return(gr=i.dynCall_iiiffiiiiiii=i.asm.lc).apply(null,arguments)},_r=i.dynCall_iiiffffiii=function(){return(_r=i.dynCall_iiiffffiii=i.asm.mc).apply(null,arguments)},wr=i.dynCall_iiidi=function(){return(wr=i.dynCall_iiidi=i.asm.nc).apply(null,arguments)},Er=i.dynCall_iij=function(){return(Er=i.dynCall_iij=i.asm.oc).apply(null,arguments)},kr=i.dynCall_iif=function(){return(kr=i.dynCall_iif=i.asm.pc).apply(null,arguments)},br=i.dynCall_jii=function(){return(br=i.dynCall_jii=i.asm.qc).apply(null,arguments)},Cr=i.dynCall_jiiji=function(){return(Cr=i.dynCall_jiiji=i.asm.rc).apply(null,arguments)},Pr=i.dynCall_fii=function(){return(Pr=i.dynCall_fii=i.asm.sc).apply(null,arguments)},Dr=i.dynCall_fiii=function(){return(Dr=i.dynCall_fiii=i.asm.tc).apply(null,arguments)},Ar=i.dynCall_fiiii=function(){return(Ar=i.dynCall_fiiii=i.asm.uc).apply(null,arguments)};function ut(e,n,r,t){var o=g();try{return Qn(e,n,r,t)}catch(u){if(_(o),u!==u+0&&u!=="longjmp")throw u;h(1,0)}}function lt(e,n){var r=g();try{return Kn(e,n)}catch(t){if(_(r),t!==t+0&&t!=="longjmp")throw t;h(1,0)}}function st(e,n,r){var t=g();try{return Jn(e,n,r)}catch(o){if(_(t),o!==o+0&&o!=="longjmp")throw o;h(1,0)}}function ft(e,n,r){var t=g();try{mn(e,n,r)}catch(o){if(_(t),o!==o+0&&o!=="longjmp")throw o;h(1,0)}}function ct(e,n){var r=g();try{vn(e,n)}catch(t){if(_(r),t!==t+0&&t!=="longjmp")throw t;h(1,0)}}function dt(e,n,r,t,o,u,l,s){var f=g();try{return rr(e,n,r,t,o,u,l,s)}catch(v){if(_(f),v!==v+0&&v!=="longjmp")throw v;h(1,0)}}function vt(e,n,r,t,o){var u=g();try{yn(e,n,r,t,o)}catch(l){if(_(u),l!==l+0&&l!=="longjmp")throw l;h(1,0)}}function mt(e,n,r,t,o){var u=g();try{return wr(e,n,r,t,o)}catch(l){if(_(u),l!==l+0&&l!=="longjmp")throw l;h(1,0)}}function pt(e,n,r,t,o,u){var l=g();try{return er(e,n,r,t,o,u)}catch(s){if(_(l),s!==s+0&&s!=="longjmp")throw s;h(1,0)}}function yt(e,n,r,t,o){var u=g();try{return Zn(e,n,r,t,o)}catch(l){if(_(u),l!==l+0&&l!=="longjmp")throw l;h(1,0)}}function ht(e,n,r,t){var o=g();try{pn(e,n,r,t)}catch(u){if(_(o),u!==u+0&&u!=="longjmp")throw u;h(1,0)}}function gt(e,n,r,t,o,u,l){var s=g();try{return nr(e,n,r,t,o,u,l)}catch(f){if(_(s),f!==f+0&&f!=="longjmp")throw f;h(1,0)}}function _t(e,n,r,t,o,u,l,s,f,v){var c=g();try{return tr(e,n,r,t,o,u,l,s,f,v)}catch(m){if(_(c),m!==m+0&&m!=="longjmp")throw m;h(1,0)}}function wt(e,n,r,t,o,u,l){var s=g();try{gn(e,n,r,t,o,u,l)}catch(f){if(_(s),f!==f+0&&f!=="longjmp")throw f;h(1,0)}}function Et(e,n,r,t,o,u){var l=g();try{hn(e,n,r,t,o,u)}catch(s){if(_(l),s!==s+0&&s!=="longjmp")throw s;h(1,0)}}function kt(e,n,r,t,o,u,l,s,f,v){var c=g();try{Dn(e,n,r,t,o,u,l,s,f,v)}catch(m){if(_(c),m!==m+0&&m!=="longjmp")throw m;h(1,0)}}function bt(e,n,r,t,o,u,l,s,f){var v=g();try{jn(e,n,r,t,o,u,l,s,f)}catch(c){if(_(v),c!==c+0&&c!=="longjmp")throw c;h(1,0)}}function Ct(e,n,r,t,o,u,l){var s=g();try{Fn(e,n,r,t,o,u,l)}catch(f){if(_(s),f!==f+0&&f!=="longjmp")throw f;h(1,0)}}function Pt(e,n,r,t,o,u,l,s){var f=g();try{_n(e,n,r,t,o,u,l,s)}catch(v){if(_(f),v!==v+0&&v!=="longjmp")throw v;h(1,0)}}function Dt(e,n,r,t,o,u,l,s,f){var v=g();try{Pn(e,n,r,t,o,u,l,s,f)}catch(c){if(_(v),c!==c+0&&c!=="longjmp")throw c;h(1,0)}}function At(e,n,r,t,o,u,l,s,f){var v=g();try{return dr(e,n,r,t,o,u,l,s,f)}catch(c){if(_(v),c!==c+0&&c!=="longjmp")throw c;h(1,0)}}function jt(e,n,r,t,o,u,l,s,f){var v=g();try{return ir(e,n,r,t,o,u,l,s,f)}catch(c){if(_(v),c!==c+0&&c!=="longjmp")throw c;h(1,0)}}function St(e,n,r,t,o){var u=g();try{Hn(e,n,r,t,o)}catch(l){if(_(u),l!==l+0&&l!=="longjmp")throw l;h(1,0)}}function Rt(e,n,r,t){var o=g();try{zn(e,n,r,t)}catch(u){if(_(o),u!==u+0&&u!=="longjmp")throw u;h(1,0)}}function Mt(e,n,r,t,o,u,l,s,f,v){var c=g();try{return _r(e,n,r,t,o,u,l,s,f,v)}catch(m){if(_(c),m!==m+0&&m!=="longjmp")throw m;h(1,0)}}function Ft(e,n,r,t,o,u,l,s,f){var v=g();try{return fr(e,n,r,t,o,u,l,s,f)}catch(c){if(_(v),c!==c+0&&c!=="longjmp")throw c;h(1,0)}}function Tt(e,n,r,t,o,u,l,s,f,v,c,m){var y=g();try{bn(e,n,r,t,o,u,l,s,f,v,c,m)}catch(p){if(_(y),p!==p+0&&p!=="longjmp")throw p;h(1,0)}}function xt(e,n,r,t,o,u,l,s,f){var v=g();try{wn(e,n,r,t,o,u,l,s,f)}catch(c){if(_(v),c!==c+0&&c!=="longjmp")throw c;h(1,0)}}function Bt(e,n,r,t,o,u,l,s,f,v,c,m){var y=g();try{return gr(e,n,r,t,o,u,l,s,f,v,c,m)}catch(p){if(_(y),p!==p+0&&p!=="longjmp")throw p;h(1,0)}}function It(e,n,r,t,o,u,l,s,f,v,c){var m=g();try{kn(e,n,r,t,o,u,l,s,f,v,c)}catch(y){if(_(m),y!==y+0&&y!=="longjmp")throw y;h(1,0)}}function Nt(e,n,r,t,o,u,l,s,f,v,c,m,y,p,P,R,U){var I=g();try{return ur(e,n,r,t,o,u,l,s,f,v,c,m,y,p,P,R,U)}catch(G){if(_(I),G!==G+0&&G!=="longjmp")throw G;h(1,0)}}function Lt(e,n,r,t,o,u,l,s,f,v,c){var m=g();try{return ar(e,n,r,t,o,u,l,s,f,v,c)}catch(y){if(_(m),y!==y+0&&y!=="longjmp")throw y;h(1,0)}}function Ot(e,n,r,t,o,u,l,s,f,v,c,m,y,p){var P=g();try{return or(e,n,r,t,o,u,l,s,f,v,c,m,y,p)}catch(R){if(_(P),R!==R+0&&R!=="longjmp")throw R;h(1,0)}}function Ut(e,n,r,t,o,u,l,s,f,v,c,m,y,p){var P=g();try{Cn(e,n,r,t,o,u,l,s,f,v,c,m,y,p)}catch(R){if(_(P),R!==R+0&&R!=="longjmp")throw R;h(1,0)}}function zt(e,n,r,t){var o=g();try{Yn(e,n,r,t)}catch(u){if(_(o),u!==u+0&&u!=="longjmp")throw u;h(1,0)}}function Ht(e,n,r){var t=g();try{return kr(e,n,r)}catch(o){if(_(t),o!==o+0&&o!=="longjmp")throw o;h(1,0)}}function Wt(e,n,r,t,o){var u=g();try{return yr(e,n,r,t,o)}catch(l){if(_(u),l!==l+0&&l!=="longjmp")throw l;h(1,0)}}function Vt(e,n,r,t){var o=g();try{return Dr(e,n,r,t)}catch(u){if(_(o),u!==u+0&&u!=="longjmp")throw u;h(1,0)}}function Gt(e,n,r){var t=g();try{return Pr(e,n,r)}catch(o){if(_(t),o!==o+0&&o!=="longjmp")throw o;h(1,0)}}function qt(e,n,r,t,o){var u=g();try{return Ar(e,n,r,t,o)}catch(l){if(_(u),l!==l+0&&l!=="longjmp")throw l;h(1,0)}}function Xt(e,n,r,t,o,u,l){var s=g();try{qn(e,n,r,t,o,u,l)}catch(f){if(_(s),f!==f+0&&f!=="longjmp")throw f;h(1,0)}}function Yt(e,n,r,t,o,u,l,s,f){var v=g();try{Sn(e,n,r,t,o,u,l,s,f)}catch(c){if(_(v),c!==c+0&&c!=="longjmp")throw c;h(1,0)}}function $t(e,n,r,t,o,u,l,s,f,v,c){var m=g();try{Rn(e,n,r,t,o,u,l,s,f,v,c)}catch(y){if(_(m),y!==y+0&&y!=="longjmp")throw y;h(1,0)}}function Kt(e,n,r,t,o){var u=g();try{Nn(e,n,r,t,o)}catch(l){if(_(u),l!==l+0&&l!=="longjmp")throw l;h(1,0)}}function Jt(e,n,r,t,o,u,l,s,f,v,c,m){var y=g();try{In(e,n,r,t,o,u,l,s,f,v,c,m)}catch(p){if(_(y),p!==p+0&&p!=="longjmp")throw p;h(1,0)}}function Qt(e,n,r,t,o,u,l,s,f,v,c,m,y,p,P,R,U,I,G){var N=g();try{An(e,n,r,t,o,u,l,s,f,v,c,m,y,p,P,R,U,I,G)}catch(z){if(_(N),z!==z+0&&z!=="longjmp")throw z;h(1,0)}}function Zt(e,n,r,t,o,u,l,s){var f=g();try{return cr(e,n,r,t,o,u,l,s)}catch(v){if(_(f),v!==v+0&&v!=="longjmp")throw v;h(1,0)}}function ea(e,n,r,t,o,u,l,s,f,v,c,m){var y=g();try{return vr(e,n,r,t,o,u,l,s,f,v,c,m)}catch(p){if(_(y),p!==p+0&&p!=="longjmp")throw p;h(1,0)}}function na(e,n,r,t,o,u,l,s,f,v){var c=g();try{En(e,n,r,t,o,u,l,s,f,v)}catch(m){if(_(c),m!==m+0&&m!=="longjmp")throw m;h(1,0)}}function ra(e,n,r,t,o,u,l){var s=g();try{Tn(e,n,r,t,o,u,l)}catch(f){if(_(s),f!==f+0&&f!=="longjmp")throw f;h(1,0)}}function ia(e,n,r,t,o,u,l,s,f){var v=g();try{Xn(e,n,r,t,o,u,l,s,f)}catch(c){if(_(v),c!==c+0&&c!=="longjmp")throw c;h(1,0)}}function ta(e,n,r,t,o){var u=g();try{Bn(e,n,r,t,o)}catch(l){if(_(u),l!==l+0&&l!=="longjmp")throw l;h(1,0)}}function aa(e,n,r,t,o,u,l){var s=g();try{Wn(e,n,r,t,o,u,l)}catch(f){if(_(s),f!==f+0&&f!=="longjmp")throw f;h(1,0)}}function oa(e,n,r,t,o,u){var l=g();try{Vn(e,n,r,t,o,u)}catch(s){if(_(l),s!==s+0&&s!=="longjmp")throw s;h(1,0)}}function ua(e,n,r,t,o,u){var l=g();try{Mn(e,n,r,t,o,u)}catch(s){if(_(l),s!==s+0&&s!=="longjmp")throw s;h(1,0)}}function la(e,n,r,t,o,u,l,s,f,v,c,m){var y=g();try{return mr(e,n,r,t,o,u,l,s,f,v,c,m)}catch(p){if(_(y),p!==p+0&&p!=="longjmp")throw p;h(1,0)}}function sa(e,n,r,t,o,u,l,s,f,v){var c=g();try{Gn(e,n,r,t,o,u,l,s,f,v)}catch(m){if(_(c),m!==m+0&&m!=="longjmp")throw m;h(1,0)}}function fa(e,n,r,t){var o=g();try{$n(e,n,r,t)}catch(u){if(_(o),u!==u+0&&u!=="longjmp")throw u;h(1,0)}}function ca(e,n,r,t,o,u){var l=g();try{return pr(e,n,r,t,o,u)}catch(s){if(_(l),s!==s+0&&s!=="longjmp")throw s;h(1,0)}}function da(e,n,r,t,o,u,l,s,f,v){var c=g();try{return lr(e,n,r,t,o,u,l,s,f,v)}catch(m){if(_(c),m!==m+0&&m!=="longjmp")throw m;h(1,0)}}function va(e,n,r,t,o){var u=g();try{Ln(e,n,r,t,o)}catch(l){if(_(u),l!==l+0&&l!=="longjmp")throw l;h(1,0)}}function ma(e,n,r,t){var o=g();try{return Er(e,n,r,t)}catch(u){if(_(o),u!==u+0&&u!=="longjmp")throw u;h(1,0)}}function pa(e,n,r){var t=g();try{return br(e,n,r)}catch(o){if(_(t),o!==o+0&&o!=="longjmp")throw o;h(1,0)}}function ya(e,n,r,t,o,u){var l=g();try{xn(e,n,r,t,o,u)}catch(s){if(_(l),s!==s+0&&s!=="longjmp")throw s;h(1,0)}}function ha(e,n,r,t,o,u){var l=g();try{On(e,n,r,t,o,u)}catch(s){if(_(l),s!==s+0&&s!=="longjmp")throw s;h(1,0)}}function ga(e,n,r,t,o,u,l){var s=g();try{Un(e,n,r,t,o,u,l)}catch(f){if(_(s),f!==f+0&&f!=="longjmp")throw f;h(1,0)}}function _a(e,n,r,t,o,u){var l=g();try{return Cr(e,n,r,t,o,u)}catch(s){if(_(l),s!==s+0&&s!=="longjmp")throw s;h(1,0)}}function wa(e,n,r,t,o,u){var l=g();try{return hr(e,n,r,t,o,u)}catch(s){if(_(l),s!==s+0&&s!=="longjmp")throw s;h(1,0)}}function Ea(e,n,r,t,o,u,l){var s=g();try{return sr(e,n,r,t,o,u,l)}catch(f){if(_(s),f!==f+0&&f!=="longjmp")throw f;h(1,0)}}i.ccall=qe,i.cwrap=Hr,i.FS=a;var ge;function jr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}se=function e(){ge||Ne(),ge||(se=e)};function Ne(e){if(e=e||F,Z>0||(ni(),Z>0))return;function n(){ge||(ge=!0,i.calledRun=!0,!Pe&&(ri(),ii(),w(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),ai()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),n()},1)):n()}i.run=Ne;function ka(e,n){n&&de&&e===0||(de||(Pe=!0,Ve=e,ti(),i.onExit&&i.onExit(e)),j(e,new jr(e)))}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return de=!0,Ne(),d.ready}}();typeof Ee=="object"&&typeof Oe=="object"?Oe.exports=Le:typeof define=="function"&&define.amd?define([],function(){return Le}):typeof Ee=="object"&&(Ee.mupdf=Le)});var Tr=Rr(W=>{"use strict";var Ue=W&&W.__assign||function(){return Ue=Object.assign||function(C){for(var d,i=1,w=arguments.length;i<w;i++){d=arguments[i];for(var k in d)Object.prototype.hasOwnProperty.call(d,k)&&(C[k]=d[k])}return C},Ue.apply(this,arguments)},Ra=W&&W.__awaiter||function(C,d,i,w){function k(E){return E instanceof i?E:new i(function(A){A(E)})}return new(i||(i=Promise))(function(E,A){function F(T){try{j(w.next(T))}catch(V){A(V)}}function $(T){try{j(w.throw(T))}catch(V){A(V)}}function j(T){T.done?E(T.value):k(T.value).then(F,$)}j((w=w.apply(C,d||[])).next())})},Ma=W&&W.__generator||function(C,d){var i={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},w,k,E,A;return A={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function F(j){return function(T){return $([j,T])}}function $(j){if(w)throw new TypeError("Generator is already executing.");for(;i;)try{if(w=1,k&&(E=j[0]&2?k.return:j[0]?k.throw||((E=k.return)&&E.call(k),0):k.next)&&!(E=E.call(k,j[1])).done)return E;switch(k=0,E&&(j=[j[0]&2,E.value]),j[0]){case 0:case 1:E=j;break;case 4:return i.label++,{value:j[1],done:!1};case 5:i.label++,k=j[1],j=[0];continue;case 7:j=i.ops.pop(),i.trys.pop();continue;default:if(E=i.trys,!(E=E.length>0&&E[E.length-1])&&(j[0]===6||j[0]===2)){i=0;continue}if(j[0]===3&&(!E||j[1]>E[0]&&j[1]<E[3])){i.label=j[1];break}if(j[0]===6&&i.label<E[1]){i.label=E[1],E=j;break}if(E&&i.label<E[2]){i.label=E[2],i.ops.push(j);break}E[2]&&i.ops.pop(),i.trys.pop();continue}j=d.call(C,i)}catch(T){j=[6,T],k=0}finally{w=E=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},Fa=W&&W.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(W,"__esModule",{value:!0});W.createMuPdf=void 0;var Ta=Fa(Mr());function Fr(){return Ra(this,void 0,void 0,function(){var C;return Ma(this,function(d){switch(d.label){case 0:return[4,Ta.default()];case 1:return C=d.sent(),[2,xa(C)]}})})}W.createMuPdf=Fr;W.default=Fr;function xa(C){var d=C.FS.writeFile,i=C.openDocument;return Ue({load:function(w,k){return k===void 0&&(k=Ia()),d(k,w),i(k)}},C)}var Ba=0;function Ia(){return"tmp_"+Ba+++".pdf"}});var we=class{doc;page_y0;page_y1;constructor(d,i){this.doc=i,this.page_y0=new Uint32Array(i.pn_total+1),this.page_y1=new Uint32Array(i.pn_total+1);for(var w=1;w<=i.pn_total;w++)this.page_y0[w]=this.page_y1[w-1]+d,this.page_y1[w]=this.page_y0[w]+i.page_height[w]}getPage(d){let[i,w]=d,k=this.page_y0.findIndex(E=>E>=w);return Math.max(1,k)}getPageRange(d){let[i,w,k,E]=d,A=this.page_y1.findIndex(T=>T>=w),F=this.page_y0.findIndex(T=>T>=E),$=Math.max(1,A),j=F!=-1?F-1:this.doc.pn_total;return[$,j]}setContainerCSS(d){d.style.height=`${this.page_y1[this.page_y1.length-1]}px`}setPageCSS(d,i,w){d.className="PDFPageContainer",i.className="PDFPageImage",d.style.top=`${this.page_y0[w]}px`,d.style.left="0px",d.style.height=`${this.doc.page_height[w]}px`,i.style.width=`${this.doc.page_width[w]}px`,i.style.height=`${this.doc.page_height[w]}px`}getvpRange(){let d=[window.scrollX+visualViewport.offsetLeft,window.scrollY+visualViewport.offsetTop,window.scrollX+visualViewport.offsetLeft+visualViewport.width,window.scrollY+visualViewport.offsetTop+visualViewport.height],i=[d[0],d[1]-visualViewport.height,d[2],d[3]+visualViewport.height],[w,k]=this.getPageRange(d),[E,A]=this.getPageRange(i);return[w,k,E,A]}};var xr=Sa(Tr()),ze=96,ke=class{mu;doc;pn_total;page_height;page_width;async init(d){let i=await fetch(d),w=new Uint8Array(await i.arrayBuffer());this.mu=await(0,xr.default)(),this.doc=this.mu.load(w),this.pn_total=this.mu.countPages(this.doc),this.page_width=new Uint32Array(this.pn_total+1),this.page_height=new Uint32Array(this.pn_total+1);for(var k=1;k<=this.pn_total;k++){let E=Math.floor(this.mu.pageWidth(this.doc,k,ze)),A=Math.floor(this.mu.pageHeight(this.doc,k,ze));this.page_width[k]=E,this.page_height[k]=A}}async render_png(d,i){let w=Math.round(ze*i);return this.mu.drawPageAsPNG(this.doc,d,w)}async render_svg(d,i){let w=this.mu.drawPageAsSVG(this.doc,d),k=new Blob([w],{type:"image/svg+xml"});return URL.createObjectURL(k)}async render_png1(d,i){let w=await this.render_svg(d,1),k=document.createElement("img"),E=document.createElement("canvas"),A=E.getContext("2d");return E.width=this.page_width[d]*i,E.height=this.page_height[d]*i,k.src=w,await k.decode(),A.drawImage(k,0,0,E.width,E.height),createImageBitmap(E)}async render_png2(d,i){let w=this.mu.drawPageAsSVG(this.doc,d).replace(/width=".*pt" height=".*pt"/i,`width="${this.page_width[d]*i}pt" height="${this.page_height[d]*i}pt"`),k=new Blob([w],{type:"image/svg+xml"}),E=URL.createObjectURL(k),A=document.createElement("img");return A.src=E,await A.decode(),await createImageBitmap(A)}async render_png3(d,i){let w=this.mu.drawPageAsSVG(this.doc,d),k=new Blob([w],{type:"image/svg+xml"});return createImageBitmap(k)}};var Na=10,be=class{container=document.createElement("div");images=new Map;doc;layout;async init(d,i){this.doc=d,this.layout=i,i.setContainerCSS(this.container),document.body.appendChild(this.container),await this.fitViewPort(),window.addEventListener("scroll",w=>this.fitViewPort()),visualViewport.addEventListener("resize",w=>this.fitViewPort())}async pruneElements(d,i){for(let[w,k]of this.images.entries())if(!(d<=w&&w<=i)){let{img:E,div:A}=k;this.images.delete(w),this.container.removeChild(A),A.removeChild(E)}}addPage(d){let i=document.createElement("canvas"),w=document.createElement("div"),k={img:i,div:w,pn:d,ratio:-1};return this.images.set(d,k),this.layout.setPageCSS(w,i,d),this.container.appendChild(w),w.appendChild(i),k}async update(d,i){console.log("Updating",d.pn,i),d.ratio=i;let w=await this.doc.render_png2(d.pn,i);d.img.getContext("bitmaprenderer").transferFromImageBitmap(w)}async fitViewPort(){let d=Math.ceil(Math.round(visualViewport.scale)*window.devicePixelRatio),[i,w,k,E]=this.layout.getvpRange();for(var A=k;A<=E;A++){var F=this.images.get(A);F||(F=this.addPage(A)),i<=A&&A<=w&&(F.ratio<d||F.ratio>d&&visualViewport.scale<1.1)?this.update(F,d):k<=A&&A<=E&&F.ratio==-1&&this.update(F,Math.floor(window.devicePixelRatio))}this.images.size>Na&&this.pruneElements(k,E)}};function Br(){let C=document.createElement("div");document.body.appendChild(C);let d=document.createElement("input");return d.className="FileUploader",d.type="file",d.accept=".pdf",C.appendChild(d),new Promise((i,w)=>{d.addEventListener("change",k=>{k.preventDefault();let E=d.files[0];document.body.removeChild(C),i(URL.createObjectURL(E))})})}var La="sample1.pdf";(async()=>{let C=await Br(),d=new ke;await d.init(La);let i=new we(25,d);new be().init(d,i)})();})();
